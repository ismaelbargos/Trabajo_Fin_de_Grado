// OpenLayers 3. See http://openlayers.org/
// License: https://raw.githubusercontent.com/openlayers/ol3/master/LICENSE.md
(function(){var p,t=this;
function aa(b){var c=typeof b;if("object"==c)if(b){if(b instanceof Array)return"array";if(b instanceof Object)return c;var d=Object.prototype.toString.call(b);if("[object Window]"==d)return"object";if("[object Array]"==d||"number"==typeof b.length&&"undefined"!=typeof b.splice&&"undefined"!=typeof b.propertyIsEnumerable&&!b.propertyIsEnumerable("splice"))return"array";if("[object Function]"==d||"undefined"!=typeof b.call&&"undefined"!=typeof b.propertyIsEnumerable&&!b.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==
c&&"undefined"==typeof b.call)return"object";return c}function ba(b){var c=aa(b);return"array"==c||"object"==c&&"number"==typeof b.length}function ca(b){return"string"==typeof b}function ea(b){return"number"==typeof b}function fa(b){var c=typeof b;return"object"==c&&null!=b||"function"==c}function v(b){return b[ga]||(b[ga]=++ha)}var ga="closure_uid_"+(1E9*Math.random()>>>0),ha=0;function ia(b,c,d){return b.call.apply(b.bind,arguments)}
function ka(b,c,d){if(!b)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(d,e);return b.apply(c,d)}}return function(){return b.apply(c,arguments)}}function la(b,c,d){la=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ia:ka;return la.apply(null,arguments)}
function ma(b,c){var d=Array.prototype.slice.call(arguments,1);return function(){var c=d.slice();c.push.apply(c,arguments);return b.apply(this,c)}}function B(b,c){var d=b.split("."),e=t;d[0]in e||!e.execScript||e.execScript("var "+d[0]);for(var f;d.length&&(f=d.shift());)d.length||void 0===c?e[f]?e=e[f]:e=e[f]={}:e[f]=c}
function C(b,c){function d(){}d.prototype=c.prototype;b.I=c.prototype;b.prototype=new d;b.prototype.constructor=b;b.Ic=function(b,d,g){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return c.prototype[d].apply(b,h)}};function pa(){};var qa;var ra=String.prototype.trim?function(b){return b.trim()}:function(b){return b.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function sa(b){if(!ta.test(b))return b;-1!=b.indexOf("&")&&(b=b.replace(ua,"&amp;"));-1!=b.indexOf("<")&&(b=b.replace(va,"&lt;"));-1!=b.indexOf(">")&&(b=b.replace(wa,"&gt;"));-1!=b.indexOf('"')&&(b=b.replace(xa,"&quot;"));-1!=b.indexOf("'")&&(b=b.replace(ya,"&#39;"));-1!=b.indexOf("\x00")&&(b=b.replace(za,"&#0;"));return b}var ua=/&/g,va=/</g,wa=/>/g,xa=/"/g,ya=/'/g,za=/\x00/g,ta=/[\x00&<>"']/;
function Aa(b,c){for(var d=0,e=ra(String(b)).split("."),f=ra(String(c)).split("."),g=Math.max(e.length,f.length),h=0;0==d&&h<g;h++){var k=e[h]||"",l=f[h]||"",n=RegExp("(\\d*)(\\D*)","g"),q=RegExp("(\\d*)(\\D*)","g");do{var m=n.exec(k)||["","",""],r=q.exec(l)||["","",""];if(0==m[0].length&&0==r[0].length)break;d=Ba(0==m[1].length?0:parseInt(m[1],10),0==r[1].length?0:parseInt(r[1],10))||Ba(0==m[2].length,0==r[2].length)||Ba(m[2],r[2])}while(0==d)}return d}function Ba(b,c){return b<c?-1:b>c?1:0};function Ca(b,c,d){return Math.min(Math.max(b,c),d)}var Ea=function(){var b;"cosh"in Math?b=Math.cosh:b=function(b){b=Math.exp(b);return(b+1/b)/2};return b}();function Fa(b,c){var d=b%c;return 0>d*c?d+c:d};function Ga(b){return function(c){if(c)return[Ca(c[0],b[0],b[2]),Ca(c[1],b[1],b[3])]}}function Ha(b){return b};function Ia(b,c){return b>c?1:b<c?-1:0}function Ja(b,c,d){var e=b.length;if(b[0]<=c)return 0;if(!(c<=b[e-1]))if(0<d)for(d=1;d<e;++d){if(b[d]<c)return d-1}else if(0>d)for(d=1;d<e;++d){if(b[d]<=c)return d}else for(d=1;d<e;++d){if(b[d]==c)return d;if(b[d]<c)return b[d-1]-c<c-b[d]?d-1:d}return e-1}function Ka(b,c){var d=b.indexOf(c),e=-1<d;e&&b.splice(d,1);return e}
function La(b){var c=Ma,d=b.length,e=Array(b.length),f;for(f=0;f<d;f++)e[f]={index:f,value:b[f]};e.sort(function(b,d){return c(b.value,d.value)||b.index-d.index});for(f=0;f<b.length;f++)b[f]=e[f].value};function Na(b){return function(c,d,e){if(void 0!==c)return c=Ja(b,c,e),c=Ca(c+d,0,b.length-1),b[c]}}function Oa(b,c,d){return function(e,f,g){if(void 0!==e)return e=Math.max(Math.floor(Math.log(c/e)/Math.log(b)+(0<g?0:0>g?1:.5))+f,0),void 0!==d&&(e=Math.min(e,d)),c/Math.pow(b,e)}};function Pa(b){if(void 0!==b)return 0}function Qa(b,c){if(void 0!==b)return b+c}function Ra(b){var c=2*Math.PI/b;return function(b,e){if(void 0!==b)return b=Math.floor((b+e)/c+.5)*c}}function Sa(){var b=5*Math.PI/180;return function(c,d){if(void 0!==c)return Math.abs(c+d)<=b?0:c+d}};function Ta(b,c,d){this.center=b;this.resolution=c;this.rotation=d};var H="function"===typeof Object.assign?Object.assign:function(b,c){if(void 0===b||null===b)throw new TypeError("Cannot convert undefined or null to object");for(var d=Object(b),e=1,f=arguments.length;e<f;++e){var g=arguments[e];if(void 0!==g&&null!==g)for(var h in g)g.hasOwnProperty(h)&&(d[h]=g[h])}return d};function Ua(b){for(var c in b)delete b[c]}function Va(b){for(var c in b)return!1;return!c};var Wa="olm_"+(1E4*Math.random()|0);function Xa(b){function c(c){var e=b.listener,f=b.Ka||b.target;b.Ma&&J(b);return e.call(f,c)}return b.La=c}function Ya(b,c,d,e){for(var f,g=0,h=b.length;g<h;++g)if(f=b[g],f.listener===c&&f.Ka===d)return e&&(f.deleteIndex=g),f}function Za(b,c){var d=b[Wa];return d?d[c]:void 0}function $a(b){var c=b[Wa];c||(c=b[Wa]={});return c}
function ab(b,c){var d=Za(b,c);if(d){for(var e=0,f=d.length;e<f;++e)b.removeEventListener(c,d[e].La),Ua(d[e]);d.length=0;if(d=b[Wa])delete d[c],0===Object.keys(d).length&&delete b[Wa]}}function M(b,c,d,e,f){var g=$a(b),h=g[c];h||(h=g[c]=[]);(g=Ya(h,d,e,!1))?f||(g.Ma=!1):(g={Ka:e,Ma:!!f,listener:d,target:b,type:c},b.addEventListener(c,Xa(g)),h.push(g));return g}function bb(b,c,d,e){(b=Za(b,c))&&(d=Ya(b,d,e,!0))&&J(d)}
function J(b){if(b&&b.target){b.target.removeEventListener(b.type,b.La);var c=Za(b.target,b.type);if(c){var d="deleteIndex"in b?b.deleteIndex:c.indexOf(b);-1!==d&&c.splice(d,1);0===c.length&&ab(b.target,b.type)}Ua(b)}};function cb(){}cb.prototype.Ca=!1;function db(b){b.Ca||(b.Ca=!0,b.C())}cb.prototype.C=pa;function O(b,c){this.type=b;this.target=c||null}O.prototype.preventDefault=O.prototype.stopPropagation=function(){this.mc=!0};function eb(b){b.stopPropagation()};function P(){this.D={};this.i={}}C(P,cb);P.prototype.addEventListener=function(b,c){var d=this.i[b];d||(d=this.i[b]=[]);-1===d.indexOf(c)&&d.push(c)};function Q(b,c){var d="string"===typeof c?new O(c):c,e=d.type;d.target=b;var f=b.i[e],g;if(f){e in b.D||(b.D[e]=0);for(var h=0,k=f.length;h<k;++h)if(!1===f[h].call(b,d)||d.mc){g=!1;break}d=b.D[e];for(delete b.D[e];d--;)b.removeEventListener(e,pa);return g}}P.prototype.C=function(){var b=$a(this),c;for(c in b)ab(this,c)};
function fb(b,c){return c?c in b.i:0<Object.keys(b.i).length}P.prototype.removeEventListener=function(b,c){var d=this.i[b];if(d){var e=d.indexOf(c);b in this.D?(d[e]=pa,++this.D[b]):(d.splice(e,1),0===d.length&&delete this.i[b])}};function gb(){P.call(this);this.h=0}C(gb,P);function R(b){++b.h;Q(b,"change")}gb.prototype.pa=function(b,c,d){if(Array.isArray(b)){for(var e=b.length,f=Array(e),g=0;g<e;++g)f[g]=M(this,b[g],c,d);return f}return M(this,b,c,d)};function hb(b,c,d){O.call(this,b);this.key=c;this.oldValue=d}C(hb,O);function S(b){gb.call(this);v(this);this.s={};void 0!==b&&ib(this,b)}C(S,gb);var jb={};function kb(b){return jb.hasOwnProperty(b)?jb[b]:jb[b]="change:"+b}S.prototype.get=function(b){var c;this.s.hasOwnProperty(b)&&(c=this.s[b]);return c};S.prototype.set=function(b,c,d){d?this.s[b]=c:(d=this.s[b],this.s[b]=c,d!==c&&(c=kb(b),Q(this,new hb(c,b,d)),Q(this,new hb("propertychange",b,d))))};
function ib(b,c){for(var d in c)b.set(d,c[d],void 0)};function lb(b,c,d){void 0===d&&(d=[0,0]);d[0]=b[0]+2*c;d[1]=b[1]+2*c;return d}function mb(b,c,d){void 0===d&&(d=[0,0]);d[0]=b[0]*c+.5|0;d[1]=b[1]*c+.5|0;return d}function nb(b,c){if(Array.isArray(b))return b;void 0===c?c=[b,b]:(c[0]=b,c[1]=b);return c};function ob(b,c){b[0]+=c[0];b[1]+=c[1]}function pb(b,c){var d=Math.cos(c),e=Math.sin(c),f=b[1]*d+b[0]*e;b[0]=b[0]*d-b[1]*e;b[1]=f};function qb(b){this.length=b.length||b;for(var c=0;c<this.length;c++)this[c]=b[c]||0}qb.prototype.BYTES_PER_ELEMENT=4;qb.prototype.set=function(b,c){c=c||0;for(var d=0;d<b.length&&c+d<this.length;d++)this[c+d]=b[d]};qb.prototype.toString=Array.prototype.join;"undefined"==typeof Float32Array&&(qb.BYTES_PER_ELEMENT=4,qb.prototype.BYTES_PER_ELEMENT=qb.prototype.BYTES_PER_ELEMENT,qb.prototype.set=qb.prototype.set,qb.prototype.toString=qb.prototype.toString,B("Float32Array",qb));function rb(b){this.length=b.length||b;for(var c=0;c<this.length;c++)this[c]=b[c]||0}rb.prototype.BYTES_PER_ELEMENT=8;rb.prototype.set=function(b,c){c=c||0;for(var d=0;d<b.length&&c+d<this.length;d++)this[c+d]=b[d]};rb.prototype.toString=Array.prototype.join;if("undefined"==typeof Float64Array){try{rb.BYTES_PER_ELEMENT=8}catch(b){}rb.prototype.BYTES_PER_ELEMENT=rb.prototype.BYTES_PER_ELEMENT;rb.prototype.set=rb.prototype.set;rb.prototype.toString=rb.prototype.toString;B("Float64Array",rb)};function sb(){var b=Array(16);b[0]=0;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=0;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=0;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=0;return b}function tb(b,c,d){var e=b[1]*c+b[5]*d+0*b[9]+b[13],f=b[2]*c+b[6]*d+0*b[10]+b[14],g=b[3]*c+b[7]*d+0*b[11]+b[15];b[12]=b[0]*c+b[4]*d+0*b[8]+b[12];b[13]=e;b[14]=f;b[15]=g}new Float64Array(3);new Float64Array(3);new Float64Array(4);new Float64Array(4);new Float64Array(4);new Float64Array(16);function ub(b){for(var c=vb(),d=0,e=b.length;d<e;++d)wb(c,b[d]);return c}function xb(b,c,d){return d?(d[0]=b[0]-c,d[1]=b[1]-c,d[2]=b[2]+c,d[3]=b[3]+c,d):[b[0]-c,b[1]-c,b[2]+c,b[3]+c]}function vb(){return[Infinity,Infinity,-Infinity,-Infinity]}function yb(b,c,d,e,f){return f?(f[0]=b,f[1]=c,f[2]=d,f[3]=e,f):[b,c,d,e]}function zb(b,c){return b[0]==c[0]&&b[2]==c[2]&&b[1]==c[1]&&b[3]==c[3]}function wb(b,c){c[0]<b[0]&&(b[0]=c[0]);c[0]>b[2]&&(b[2]=c[0]);c[1]<b[1]&&(b[1]=c[1]);c[1]>b[3]&&(b[3]=c[1])}
function Ab(b){var c=0;Bb(b)||(c=T(b)*Cb(b));return c}function Db(b){return[b[0],b[1]]}function Eb(b){return[(b[0]+b[2])/2,(b[1]+b[3])/2]}function Fb(b,c,d,e){var f=c*e[0]/2;e=c*e[1]/2;c=Math.cos(d);var g=Math.sin(d);d=f*c;f*=g;c*=e;var h=e*g,k=b[0],l=b[1];b=k-d+h;e=k-d-h;g=k+d-h;d=k+d+h;var h=l-f-c,k=l-f+c,n=l+f+c,f=l+f-c;return yb(Math.min(b,e,g,d),Math.min(h,k,n,f),Math.max(b,e,g,d),Math.max(h,k,n,f),void 0)}function Cb(b){return b[3]-b[1]}
function Gb(b,c){var d=vb();Hb(b,c)&&(d[0]=b[0]>c[0]?b[0]:c[0],d[1]=b[1]>c[1]?b[1]:c[1],d[2]=b[2]<c[2]?b[2]:c[2],d[3]=b[3]<c[3]?b[3]:c[3]);return d}function T(b){return b[2]-b[0]}function Hb(b,c){return b[0]<=c[2]&&b[2]>=c[0]&&b[1]<=c[3]&&b[3]>=c[1]}function Bb(b){return b[2]<b[0]||b[3]<b[1]};function Ib(){return!0}function Jb(){return!1};/*

 Latitude/longitude spherical geodesy formulae taken from
 http://www.movable-type.co.uk/scripts/latlong.html
 Licensed under CC-BY-3.0.
*/
function Kb(b){this.radius=b}function Lb(b,c){var d=b[1]*Math.PI/180,e=c[1]*Math.PI/180,f=(e-d)/2,g=(c[0]-b[0])*Math.PI/180/2,d=Math.sin(f)*Math.sin(f)+Math.sin(g)*Math.sin(g)*Math.cos(d)*Math.cos(e);return 2*Mb.radius*Math.atan2(Math.sqrt(d),Math.sqrt(1-d))}
Kb.prototype.offset=function(b,c,d){var e=b[1]*Math.PI/180;c/=this.radius;var f=Math.asin(Math.sin(e)*Math.cos(c)+Math.cos(e)*Math.sin(c)*Math.cos(d));return[180*(b[0]*Math.PI/180+Math.atan2(Math.sin(d)*Math.sin(c)*Math.cos(e),Math.cos(c)-Math.sin(e)*Math.sin(f)))/Math.PI,180*f/Math.PI]};var Mb=new Kb(6370997);var Nb={};Nb.degrees=2*Math.PI*Mb.radius/360;Nb.ft=.3048;Nb.m=1;Nb["us-ft"]=1200/3937;function Ob(b){this.b=b.code;this.c=b.units;this.D=void 0!==b.extent?b.extent:null;this.f=void 0!==b.axisOrientation?b.axisOrientation:"enu";this.i=void 0!==b.global?b.global:!1;this.h=!(!this.i||!this.D);this.s=void 0!==b.getPointResolution?b.getPointResolution:this.l;this.g=null;this.o=b.metersPerUnit}Ob.prototype.a=function(){return this.D};Ob.prototype.j=function(){return this.c};
function Pb(b){return b.o||Nb[b.c]}Ob.prototype.l=function(b,c){if("degrees"==this.c)return b;var d=Qb(this,Rb("EPSG:4326")),e=[c[0]-b/2,c[1],c[0]+b/2,c[1],c[0],c[1]-b/2,c[0],c[1]+b/2],e=d(e,e,2),d=(Lb(e.slice(0,2),e.slice(2,4))+Lb(e.slice(4,6),e.slice(6,8)))/2,e=Pb(this);void 0!==e&&(d/=e);return d};Ob.prototype.getPointResolution=function(b,c){return this.s(b,c)};var Sb={},Tb={};function Ub(b){Vb(b);b.forEach(function(c){b.forEach(function(b){c!==b&&Wb(c,b,Xb)})})}
function Yb(b){Sb[b.b]=b;Wb(b,b,Xb)}function Vb(b){var c=[];b.forEach(function(b){c.push(Yb(b))})}function Zb(b){return b?"string"===typeof b?Rb(b):b:Rb("EPSG:3857")}function Wb(b,c,d){b=b.b;c=c.b;b in Tb||(Tb[b]={});Tb[b][c]=d}function Rb(b){var c;b instanceof Ob?c=b:"string"===typeof b?c=Sb[b]:c=null;return c}function $b(b,c){if(b===c)return!0;var d=b.c===c.c;return b.b===c.b?d:Qb(b,c)===Xb&&d}function ac(b,c){var d=Rb(b),e=Rb(c);return Qb(d,e)}
function Qb(b,c){var d=b.b,e=c.b,f;d in Tb&&e in Tb[d]&&(f=Tb[d][e]);void 0===f&&(f=bc);return f}function bc(b,c){if(void 0!==c&&b!==c){for(var d=0,e=b.length;d<e;++d)c[d]=b[d];b=c}return b}function Xb(b,c){var d;if(void 0!==c){d=0;for(var e=b.length;d<e;++d)c[d]=b[d];d=c}else d=b.slice();return d};function cc(){S.call(this);this.l=vb();this.j=-1}C(cc,S);cc.prototype.a=function(b){if(this.j!=this.h){for(var c=this.b,d=this.b.length,e=this.c,f=yb(Infinity,Infinity,-Infinity,-Infinity,this.l),g=0;g<d;g+=e){var h=f,k=c[g],l=c[g+1];h[0]=Math.min(h[0],k);h[1]=Math.min(h[1],l);h[2]=Math.max(h[2],k);h[3]=Math.max(h[3],l)}this.l=f;this.j=this.h}c=this.l;b?(b[0]=c[0],b[1]=c[1],b[2]=c[2],b[3]=c[3]):b=c;return b};function dc(){cc.call(this);this.g="XY";this.c=2;this.b=null}C(dc,cc);function ec(b){if("XY"==b)return 2;if("XYZ"==b||"XYM"==b)return 3;if("XYZM"==b)return 4}function fc(b,c,d){b.c=ec(c);b.g=c;b.b=d}dc.prototype.rotate=function(b,c){var d=this.b;if(d){for(var e=d.length,f=this.c,g=d?d:[],h=Math.cos(b),k=Math.sin(b),l=c[0],n=c[1],q=0,m=0;m<e;m+=f){var r=d[m]-l,w=d[m+1]-n;g[q++]=l+r*h-w*k;g[q++]=n+r*k+w*h;for(r=m+2;r<m+f;++r)g[q++]=d[r]}d&&g.length!=q&&(g.length=q);R(this)}};function gc(b,c){dc.call(this);this.f=[];hc(this,b,c)}C(gc,dc);gc.prototype.clone=function(){var b=new gc(null),c=this.f.slice();fc(b,this.g,this.b.slice());b.f=c;R(b);return b};
function hc(b,c,d){if(c){a:{var e=c;if(d)e=ec(d);else{for(d=0;2>d;++d){if(0===e.length){b.g="XY";b.c=2;break a}e=e[0]}e=e.length;d=2==e?"XY":3==e?"XYZ":4==e?"XYZM":void 0}b.g=d;b.c=e}b.b||(b.b=[]);d=b.b;var e=b.c,f=b.f,g=0,f=f?f:[],h=0,k,l;k=0;for(l=c.length;k<l;++k){var n;n=d;for(var q=c[k],m=e,r=void 0,w=void 0,r=0,w=q.length;r<w;++r){var u=q[r],x;for(x=0;x<m;++x)n[g++]=u[x]}n=g;g=f[h++]=n}f.length=h;b.b.length=0===f.length?0:f[f.length-1]}else c=b.f,fc(b,"XY",null),b.f=c;R(b)};function ic(b){S.call(this);b=b||{};this.b=[0,0];var c={};c.center=void 0!==b.center?b.center:null;this.c=Zb(b.projection);var d,e,f,g=void 0!==b.minZoom?b.minZoom:0;d=void 0!==b.maxZoom?b.maxZoom:28;var h=void 0!==b.zoomFactor?b.zoomFactor:2;if(void 0!==b.resolutions)d=b.resolutions,e=d[0],d=Na(d);else{e=Zb(b.projection);f=e.a();var k=(f?Math.max(T(f),Cb(f)):360*Nb.degrees/Pb(e))/256/Math.pow(2,0),l=k/Math.pow(2,28);e=b.maxResolution;void 0!==e?g=0:e=k/Math.pow(h,g);f=b.minResolution;void 0===f&&
(f=void 0!==b.maxZoom?void 0!==b.maxResolution?e/Math.pow(h,d):k/Math.pow(h,d):l);d=g+Math.floor(Math.log(e/f)/Math.log(h));d=Oa(h,e,d-g)}this.f=e;this.g=g;g=void 0!==b.extent?Ga(b.extent):Ha;(void 0!==b.enableRotation?b.enableRotation:1)?(e=b.constrainRotation,e=void 0===e||!0===e?Sa():!1===e?Qa:ea(e)?Ra(e):Qa):e=Pa;this.a=new Ta(g,d,e);void 0!==b.resolution?c.resolution=b.resolution:void 0!==b.zoom&&(c.resolution=this.constrainResolution(this.f,b.zoom-this.g));c.rotation=void 0!==b.rotation?b.rotation:
0;ib(this,c)}C(ic,S);p=ic.prototype;p.constrainResolution=function(b,c,d){return this.a.resolution(b,c||0,d||0)};p.constrainRotation=function(b,c){return this.a.rotation(b,c||0)};function jc(b){return b.get("center")}p.$b=function(){return this.c};p.w=function(){return this.get("resolution")};function kc(b){return b.get("rotation")}p.A=function(){var b=jc(this),c=this.c,d=this.w(),e=kc(this);return{center:[Math.round(b[0]/d)*d,Math.round(b[1]/d)*d],projection:void 0!==c?c:null,resolution:d,rotation:e}};
p.rotate=function(b,c){if(void 0!==c){var d,e=jc(this);void 0!==e&&(d=[e[0]-c[0],e[1]-c[1]],pb(d,b-kc(this)),ob(d,c));lc(this,d)}this.set("rotation",b)};function lc(b,c){b.set("center",c)}function mc(b,c){b.b[1]+=c};function nc(b){return 1-Math.pow(1-b,3)}function oc(b){return 3*b*b-2*b*b*b}function pc(b){return b};function qc(b){var c=b.source,d=b.start?b.start:Date.now(),e=c[0],f=c[1],g=void 0!==b.duration?b.duration:1E3,h=b.easing?b.easing:oc;return function(b,c){if(c.time<d)return c.animate=!0,c.viewHints[0]+=1,!0;if(c.time<d+g){var n=1-h((c.time-d)/g),q=e-c.viewState.center[0],m=f-c.viewState.center[1];c.animate=!0;c.viewState.center[0]+=n*q;c.viewState.center[1]+=n*m;c.viewHints[0]+=1;return!0}return!1}}
function rc(b){var c=b.rotation?b.rotation:0,d=b.start?b.start:Date.now(),e=void 0!==b.duration?b.duration:1E3,f=b.easing?b.easing:oc,g=b.anchor?b.anchor:null;return function(b,k){if(k.time<d)return k.animate=!0,k.viewHints[0]+=1,!0;if(k.time<d+e){var l=1-f((k.time-d)/e),l=(c-k.viewState.rotation)*l;k.animate=!0;k.viewState.rotation+=l;if(g){var n=k.viewState.center;n[0]-=g[0];n[1]-=g[1];pb(n,l);ob(n,g)}k.viewHints[0]+=1;return!0}return!1}}
function sc(b){var c=b.resolution,d=b.start?b.start:Date.now(),e=void 0!==b.duration?b.duration:1E3,f=b.easing?b.easing:oc;return function(b,h){if(h.time<d)return h.animate=!0,h.viewHints[0]+=1,!0;if(h.time<d+e){var k=1-f((h.time-d)/e),l=c-h.viewState.resolution;h.animate=!0;h.viewState.resolution+=k*l;h.viewHints[0]+=1;return!0}return!1}};function tc(b,c,d,e){this.b=b;this.a=c;this.i=d;this.c=e}function uc(b,c,d){return b.b<=c&&c<=b.a&&b.i<=d&&d<=b.c}tc.prototype.la=function(){return this.a-this.b+1};function vc(b,c){return b.b<=c.a&&b.a>=c.b&&b.i<=c.c&&b.c>=c.i};function wc(b){this.b=b.html;this.a=b.tileRanges?b.tileRanges:null};function xc(b,c,d){O.call(this,b,d);this.element=c}C(xc,O);function W(b){S.call(this);this.a=b?b:[];yc(this)}C(W,S);p=W.prototype;p.clear=function(){for(;0<this.get("length");)zc(this,this.get("length")-1)};p.Vb=function(b){var c,d;c=0;for(d=b.length;c<d;++c)this.push(b[c]);return this};p.fa=function(b,c){this.a.forEach(b,c)};p.item=function(b){return this.a[b]};p.push=function(b){var c=this.a.length;this.a.splice(c,0,b);yc(this);Q(this,new xc("add",b,this));return c};
p.remove=function(b){var c=this.a,d,e;d=0;for(e=c.length;d<e;++d)if(c[d]===b)return zc(this,d)};function zc(b,c){var d=b.a[c];b.a.splice(c,1);yc(b);Q(b,new xc("remove",d,b));return d}function yc(b){b.set("length",b.a.length)};var Ac=Array.prototype.forEach?function(b,c,d){Array.prototype.forEach.call(b,c,d)}:function(b,c,d){for(var e=b.length,f=ca(b)?b.split(""):b,g=0;g<e;g++)g in f&&c.call(d,f[g],g,b)};function Bc(b){var c=b.length;if(0<c){for(var d=Array(c),e=0;e<c;e++)d[e]=b[e];return d}return[]};function Cc(b){if("string"!==typeof b){var c=b[0];c!=(c|0)&&(c=c+.5|0);var d=b[1];d!=(d|0)&&(d=d+.5|0);var e=b[2];e!=(e|0)&&(e=e+.5|0);b="rgba("+c+","+d+","+e+","+(void 0===b[3]?1:b[3])+")"}return b};var Dc;a:{var Ec=t.navigator;if(Ec){var Fc=Ec.userAgent;if(Fc){Dc=Fc;break a}}Dc=""}function X(b){return-1!=Dc.indexOf(b)};function Gc(b,c){for(var d in b)c.call(void 0,b[d],d,b)}var Hc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ic(b,c){for(var d,e,f=1;f<arguments.length;f++){e=arguments[f];for(d in e)b[d]=e[d];for(var g=0;g<Hc.length;g++)d=Hc[g],Object.prototype.hasOwnProperty.call(e,d)&&(b[d]=e[d])}};var Jc=X("Opera")||X("OPR"),Kc=X("Trident")||X("MSIE"),Lc=X("Edge"),Mc=X("Gecko")&&!(-1!=Dc.toLowerCase().indexOf("webkit")&&!X("Edge"))&&!(X("Trident")||X("MSIE"))&&!X("Edge"),Nc=-1!=Dc.toLowerCase().indexOf("webkit")&&!X("Edge");function Oc(){var b=t.document;return b?b.documentMode:void 0}var Pc;
a:{var Qc="",Rc=function(){var b=Dc;if(Mc)return/rv\:([^\);]+)(\)|;)/.exec(b);if(Lc)return/Edge\/([\d\.]+)/.exec(b);if(Kc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(b);if(Nc)return/WebKit\/(\S+)/.exec(b);if(Jc)return/(?:Version)[ \/]?(\S+)/.exec(b)}();Rc&&(Qc=Rc?Rc[1]:"");if(Kc){var Sc=Oc();if(null!=Sc&&Sc>parseFloat(Qc)){Pc=String(Sc);break a}}Pc=Qc}var Tc={},Uc=t.document,Vc=Uc&&Kc?Oc()||("CSS1Compat"==Uc.compatMode?parseInt(Pc,10):5):void 0;var Wc=!Kc||9<=Number(Vc);!Mc&&!Kc||Kc&&9<=Number(Vc)||Mc&&(Tc["1.9.1"]||(Tc["1.9.1"]=0<=Aa(Pc,"1.9.1")));Kc&&(Tc["9"]||(Tc["9"]=0<=Aa(Pc,"9")));function Xc(b,c){this.width=b;this.height=c}p=Xc.prototype;p.clone=function(){return new Xc(this.width,this.height)};p.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};p.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};p.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};p.scale=function(b,c){var d=ea(c)?c:b;this.width*=b;this.height*=d;return this};function Yc(b){var c=document;return ca(b)?c.getElementById(b):b}function Zc(b,c){Gc(c,function(c,e){"style"==e?b.style.cssText=c:"class"==e?b.className=c:"for"==e?b.htmlFor=c:$c.hasOwnProperty(e)?b.setAttribute($c[e],c):0==e.lastIndexOf("aria-",0)||0==e.lastIndexOf("data-",0)?b.setAttribute(e,c):b[e]=c})}
var $c={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function ad(b,c,d){var e=arguments,f=document,g=e[0],h=e[1];if(!Wc&&h&&(h.name||h.type)){g=["<",g];h.name&&g.push(' name="',sa(h.name),'"');if(h.type){g.push(' type="',sa(h.type),'"');var k={};Ic(k,h);delete k.type;h=k}g.push(">");g=g.join("")}g=f.createElement(g);h&&(ca(h)?g.className=h:"array"==aa(h)?g.className=h.join(" "):Zc(g,h));2<e.length&&bd(f,g,e);return g}
function bd(b,c,d){function e(d){d&&c.appendChild(ca(d)?b.createTextNode(d):d)}for(var f=2;f<d.length;f++){var g=d[f];!ba(g)||fa(g)&&0<g.nodeType?e(g):Ac(cd(g)?Bc(g):g,e)}}function dd(b){b&&b.parentNode&&b.parentNode.removeChild(b)}function ed(b,c){if(!b||!c)return!1;if(b.contains&&1==c.nodeType)return b==c||b.contains(c);if("undefined"!=typeof b.compareDocumentPosition)return b==c||!!(b.compareDocumentPosition(c)&16);for(;c&&b!=c;)c=c.parentNode;return c==b}
function cd(b){if(b&&"number"==typeof b.length){if(fa(b))return"function"==typeof b.item||"string"==typeof b.item;if("function"==aa(b))return"function"==typeof b.item}return!1}function fd(){}fd.prototype.appendChild=function(b,c){b.appendChild(c)};function gd(b,c,d,e){this.top=b;this.right=c;this.bottom=d;this.left=e}p=gd.prototype;p.la=function(){return this.right-this.left};p.clone=function(){return new gd(this.top,this.right,this.bottom,this.left)};p.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};
p.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};p.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};p.scale=function(b,c){var d=ea(c)?c:b;this.left*=b;this.right*=b;this.top*=d;this.bottom*=d;return this};function hd(b,c){var d=9==b.nodeType?b:b.ownerDocument||b.document;return d.defaultView&&d.defaultView.getComputedStyle&&(d=d.defaultView.getComputedStyle(b,null))?d[c]||d.getPropertyValue(c)||"":""}function id(b,c){b.style.display=c?"":"none"}function jd(b,c,d,e){if(/^\d+px?$/.test(c))return parseInt(c,10);var f=b.style[d],g=b.runtimeStyle[d];b.runtimeStyle[d]=b.currentStyle[d];b.style[d]=c;c=b.style[e];b.style[d]=f;b.runtimeStyle[d]=g;return c}
function kd(b,c){var d=b.currentStyle?b.currentStyle[c]:null;return d?jd(b,d,"left","pixelLeft"):0}var ld={thin:2,medium:4,thick:6};function md(b,c){if("none"==(b.currentStyle?b.currentStyle[c+"Style"]:null))return 0;var d=b.currentStyle?b.currentStyle[c+"Width"]:null;return d in ld?ld[d]:jd(b,d,"left","pixelLeft")};function nd(b,c,d){O.call(this,b);this.map=c;this.frameState=void 0!==d?d:null}C(nd,O);function od(b){S.call(this);this.element=b.element?b.element:null;this.c=this.H=null;this.g=[];this.render=b.render?b.render:pa;b.target&&(this.H=Yc(b.target))}C(od,S);od.prototype.C=function(){dd(this.element);od.I.C.call(this)};od.prototype.setMap=function(b){this.c&&dd(this.element);for(var c=0,d=this.g.length;c<d;++c)J(this.g[c]);this.g.length=0;if(this.c=b)(this.H?this.H:b.o).appendChild(this.element),this.render!==pa&&this.g.push(M(b,"postrender",this.render,this)),b.render()};function pd(){this.i=0;this.c={};this.a=this.b=null}pd.prototype.clear=function(){this.i=0;this.c={};this.a=this.b=null};pd.prototype.get=function(b){b=this.c[b];if(b===this.a)return b.ia;b===this.b?(this.b=this.b.R,this.b.ba=null):(b.R.ba=b.ba,b.ba.R=b.R);b.R=null;b.ba=this.a;this.a=this.a.R=b;return b.ia};pd.prototype.replace=function(b,c){this.get(b);this.c[b].ia=c};pd.prototype.set=function(b,c){var d={Eb:b,R:null,ba:this.a,ia:c};this.a?this.a.R=d:this.b=d;this.a=d;this.c[b]=d;++this.i};function qd(b){pd.call(this);this.h=void 0!==b?b:2048}C(qd,pd);function rd(b){return b.i>b.h}function sd(b,c){for(var d,e;rd(b);){d=b.b.ia;e=d.N[0].toString();var f;if(f=e in c)d=d.N,f=uc(c[e],d[1],d[2]);if(f)break;else e=b,d=e.b,delete e.c[d.Eb],d.R&&(d.R.ba=null),e.b=d.R,e.b||(e.a=null),--e.i,db(d.ia)}};function td(b,c){P.call(this);this.N=b;this.state=c;this.a=null;this.key=""}C(td,P);function ud(b){Q(b,"change")}td.prototype.getKey=function(){return v(this).toString()};td.prototype.A=function(){return this.state};function vd(b){S.call(this);this.b=Rb(b.projection);this.qa=wd(b.attributions);this.V=b.logo;this.ra=void 0!==b.state?b.state:"ready";this.sa=void 0!==b.wrapX?b.wrapX:!1}C(vd,S);function wd(b){if("string"===typeof b)return[new wc({html:b})];if(b instanceof wc)return[b];if(Array.isArray(b)){for(var c=b.length,d=Array(c),e=0;e<c;e++){var f=b[e];d[e]="string"===typeof f?new wc({html:f}):f}return d}return null}vd.prototype.l=function(){return this.qa};vd.prototype.A=function(){return this.ra};function xd(b){this.minZoom=void 0!==b.minZoom?b.minZoom:0;this.i=b.resolutions;this.maxZoom=this.i.length-1;this.b=void 0!==b.origin?b.origin:null;this.h=null;void 0!==b.origins&&(this.h=b.origins);var c=b.extent;void 0===c||this.b||this.h||(this.b=[c[0],c[3]]);this.g=null;void 0!==b.tileSizes&&(this.g=b.tileSizes);this.D=void 0!==b.tileSize?b.tileSize:this.g?null:256;this.s=void 0!==c?c:null;this.c=null;void 0!==b.sizes?this.c=b.sizes.map(function(b){return new tc(Math.min(0,b[0]),Math.max(b[0]-
1,-1),Math.min(0,b[1]),Math.max(b[1]-1,-1))},this):c&&yd(this,c);this.f=[0,0]}var zd=[0,0,0];function Ad(b,c,d,e,f){f=Bd(b,c,f);for(c=c[0]-1;c>=b.minZoom;){if(d.call(null,c,Cd(b,f,c,e)))return!0;--c}return!1}xd.prototype.a=function(){return this.s};xd.prototype.w=function(b){return this.i[b]};xd.prototype.da=function(){return this.i};function Dd(b,c,d,e){return c[0]<b.maxZoom?(e=Bd(b,c,e),Cd(b,e,c[0]+1,d)):null}
function Ed(b,c,d,e){Fd(b,c[0],c[1],d,!1,zd);var f=zd[1],g=zd[2];Fd(b,c[2],c[3],d,!0,zd);b=zd[1];c=zd[2];void 0!==e?(e.b=f,e.a=b,e.i=g,e.c=c):e=new tc(f,b,g,c);return e}function Cd(b,c,d,e){d=b.w(d);return Ed(b,c,d,e)}function Gd(b,c){var d=b.b?b.b:b.h[c[0]],e=b.w(c[0]),f=nb(Hd(b,c[0]),b.f);return[d[0]+(c[1]+.5)*f[0]*e,d[1]+(c[2]+.5)*f[1]*e]}function Bd(b,c,d){var e=b.b?b.b:b.h[c[0]],f=b.w(c[0]);b=nb(Hd(b,c[0]),b.f);var g=e[0]+c[1]*b[0]*f;c=e[1]+c[2]*b[1]*f;return yb(g,c,g+b[0]*f,c+b[1]*f,d)}
function Fd(b,c,d,e,f,g){var h=Id(b,e),k=e/b.w(h),l=b.b?b.b:b.h[h];b=nb(Hd(b,h),b.f);c=k*Math.floor((c-l[0])/e+(f?.5:0))/b[0];d=k*Math.floor((d-l[1])/e+(f?0:.5))/b[1];f?(c=Math.ceil(c)-1,d=Math.ceil(d)-1):(c=Math.floor(c),d=Math.floor(d));f=c;void 0!==g?(g[0]=h,g[1]=f,g[2]=d):g=[h,f,d];return g}function Jd(b,c,d){d=b.w(d);return Fd(b,c[0],c[1],d,!1,void 0)}function Hd(b,c){return b.D?b.D:b.g[c]}function Id(b,c){var d=Ja(b.i,c,0);return Ca(d,b.minZoom,b.maxZoom)}
function yd(b,c){for(var d=b.i.length,e=Array(d),f=b.minZoom;f<d;++f)e[f]=Cd(b,c,f);b.c=e}function Kd(b){var c=b.g;if(!c){var c=Ld(b),d=Md(c,void 0,void 0),c=new xd({extent:c,origin:[c[0],c[3]],resolutions:d,tileSize:void 0});b.g=c}return c}function Md(b,c,d){c=void 0!==c?c:42;var e=Cb(b);b=T(b);d=nb(void 0!==d?d:256);d=Math.max(b/d[0],e/d[1]);c+=1;e=Array(c);for(b=0;b<c;++b)e[b]=d/Math.pow(2,b);return e}function Ld(b){b=Rb(b);var c=b.a();c||(b=180*Nb.degrees/Pb(b),c=yb(-b,-b,b,b));return c};function Nd(b){vd.call(this,{attributions:b.attributions,extent:b.extent,logo:b.logo,projection:b.projection,state:b.state,wrapX:b.wrapX});this.T=void 0!==b.opaque?b.opaque:!1;this.X=void 0!==b.tilePixelRatio?b.tilePixelRatio:1;this.tileGrid=void 0!==b.tileGrid?b.tileGrid:null;this.a=new qd(b.cacheSize);this.g=[0,0]}C(Nd,vd);p=Nd.prototype;p.Sa=function(){return rd(this.a)};p.Ta=function(b,c){var d=this.ea(b);d&&sd(d,c)};
function Od(b,c,d,e,f){c=b.ea(c);if(!c)return!1;for(var g=!0,h,k,l=e.b;l<=e.a;++l)for(var n=e.i;n<=e.c;++n)h=b.$(d,l,n),k=!1,c.c.hasOwnProperty(h)&&(h=c.get(h),(k=2===h.A())&&(k=!1!==f(h))),k||(g=!1);return g}p.Oa=function(){return 0};p.Pa=function(){return""};p.$=function(b,c,d){return b+"/"+c+"/"+d};p.za=function(){return this.T};p.da=function(){return this.tileGrid.da()};p.P=function(b){return this.tileGrid?this.tileGrid:Kd(b)};p.ea=function(b){var c=this.b;return c&&!$b(c,b)?null:this.a};
p.ka=function(){return this.X};function Pd(b,c,d){var e=void 0!==d?d:b.b;d=b.P(e);if(b.sa&&e.i){var f=c;c=f[0];b=Gd(d,f);var e=Ld(e),g=b[0],h=b[1];e[0]<=g&&g<=e[2]&&e[1]<=h&&h<=e[3]?c=f:(f=T(e),b[0]+=f*Math.ceil((e[0]-b[0])/f),c=Jd(d,b,c))}e=c[0];b=c[1];f=c[2];d=d.minZoom>e||e>d.maxZoom?!1:(d=(g=d.a())?Cd(d,g,e):d.c?d.c[e]:null)?uc(d,b,f):!0;return d?c:null}p.Wa=pa;function Qd(b,c){O.call(this,b);this.tile=c}C(Qd,O);function Rd(b){b=b?b:{};this.u=document.createElement("UL");this.j=document.createElement("LI");this.u.appendChild(this.j);id(this.j,!1);this.f=void 0!==b.collapsed?b.collapsed:!0;this.l=void 0!==b.collapsible?b.collapsible:!0;this.l||(this.f=!1);var c=void 0!==b.className?b.className:"ol-attribution",d=void 0!==b.tipLabel?b.tipLabel:"Attributions",e=void 0!==b.collapseLabel?b.collapseLabel:"\u00bb";this.v="string"===typeof e?ad("SPAN",{},e):e;e=void 0!==b.label?b.label:"i";this.F="string"===typeof e?
ad("SPAN",{},e):e;d=ad("BUTTON",{type:"button",title:d},this.l&&!this.f?this.v:this.F);M(d,"click",this.L,this);c=ad("DIV",c+" ol-unselectable ol-control"+(this.f&&this.l?" ol-collapsed":"")+(this.l?"":" ol-uncollapsible"),this.u,d);od.call(this,{element:c,render:b.render?b.render:Sd,target:b.target});this.o=!0;this.b={};this.a={};this.J={}}C(Rd,od);
function Sd(b){if(b=b.frameState){var c,d,e,f,g,h,k,l,n,q,m,r=b.layerStatesArray,w=H({},b.attributions),u={},x=b.viewState.projection;d=0;for(c=r.length;d<c;d++)if(h=r[d].layer.U())if(q=v(h).toString(),n=h.l())for(e=0,f=n.length;e<f;e++)if(k=n[e],l=v(k).toString(),!(l in w)){if(g=b.usedTiles[q]){var y=h.P(x);a:{m=k;var I=x;if(m.a){var D=void 0,K=void 0,N=void 0,U=void 0;for(U in g)if(U in m.a)for(var N=g[U],V,D=0,K=m.a[U].length;D<K;++D){V=m.a[U][D];if(vc(V,N)){m=!0;break a}var Z=Cd(y,Ld(I),parseInt(U,
10)),na=Z.la();if(N.b<Z.b||N.a>Z.a)if(vc(V,new tc(Fa(N.b,na),Fa(N.a,na),N.i,N.c))||N.la()>na&&vc(V,Z)){m=!0;break a}}m=!1}else m=!0}}else m=!1;m?(l in u&&delete u[l],w[l]=k):u[l]=k}c=[w,u];d=c[0];c=c[1];for(var z in this.b)z in d?(this.a[z]||(id(this.b[z],!0),this.a[z]=!0),delete d[z]):z in c?(this.a[z]&&(id(this.b[z],!1),delete this.a[z]),delete c[z]):(dd(this.b[z]),delete this.b[z],delete this.a[z]);for(z in d)e=document.createElement("LI"),e.innerHTML=d[z].b,this.u.appendChild(e),this.b[z]=e,this.a[z]=
!0;for(z in c)e=document.createElement("LI"),e.innerHTML=c[z].b,id(e,!1),this.u.appendChild(e),this.b[z]=e;z=!Va(this.a)||!Va(b.logos);this.o!=z&&(id(this.element,z),this.o=z);z&&Va(this.a)?this.element.classList.add("ol-logo-only"):this.element.classList.remove("ol-logo-only");var E;b=b.logos;z=this.J;for(E in z)E in b||(dd(z[E]),delete z[E]);for(var L in b)L in z||(E=new Image,E.src=L,d=b[L],""===d?d=E:(d=ad("A",{href:d}),d.appendChild(E)),this.j.appendChild(d),z[L]=d);id(this.j,!Va(b))}else this.o&&
(id(this.element,!1),this.o=!1)}Rd.prototype.L=function(b){b.preventDefault();this.element.classList.toggle("ol-collapsed");if(this.f){b=this.F;var c=b.parentNode;c&&c.replaceChild(this.v,b)}else b=this.v,(c=b.parentNode)&&c.replaceChild(this.F,b);this.f=!this.f};function Td(b){b=b?b:{};var c=void 0!==b.className?b.className:"ol-rotate",d=void 0!==b.label?b.label:"\u21e7";this.a=null;"string"===typeof d?this.a=ad("SPAN","ol-compass",d):(this.a=d,this.a.classList.add(this.a,"ol-compass"));d=ad("BUTTON",{"class":c+"-reset",type:"button",title:b.tipLabel?b.tipLabel:"Reset rotation"},this.a);M(d,"click",Td.prototype.o,this);c=ad("DIV",c+" ol-unselectable ol-control",d);d=b.render?b.render:Ud;this.f=b.resetNorth?b.resetNorth:void 0;od.call(this,{element:c,render:d,
target:b.target});this.l=void 0!==b.duration?b.duration:250;this.b=void 0!==b.autoHide?b.autoHide:!0;this.j=void 0;this.b&&this.element.classList.add("ol-hidden")}C(Td,od);Td.prototype.o=function(b){b.preventDefault();if(void 0!==this.f)this.f();else{b=this.c;var c=b.B();if(c){var d=kc(c);void 0!==d&&(0<this.l&&(d%=2*Math.PI,d<-Math.PI&&(d+=2*Math.PI),d>Math.PI&&(d-=2*Math.PI),b.O(rc({rotation:d,duration:this.l,easing:nc}))),c.set("rotation",0))}}};
function Ud(b){if(b=b.frameState){b=b.viewState.rotation;if(b!=this.j){var c="rotate("+b+"rad)";if(this.b){var d=this.element.classList.contains("ol-hidden");d||0!==b?d&&0!==b&&this.element.classList.remove("ol-hidden"):this.element.classList.add("ol-hidden")}this.a.style.msTransform=c;this.a.style.webkitTransform=c;this.a.style.transform=c}this.j=b}};function Vd(b){b=b?b:{};var c=void 0!==b.className?b.className:"ol-zoom",d=void 0!==b.delta?b.delta:1,e=void 0!==b.zoomOutLabel?b.zoomOutLabel:"\u2212",f=void 0!==b.zoomOutTipLabel?b.zoomOutTipLabel:"Zoom out",g=ad("BUTTON",{"class":c+"-in",type:"button",title:void 0!==b.zoomInTipLabel?b.zoomInTipLabel:"Zoom in"},void 0!==b.zoomInLabel?b.zoomInLabel:"+");M(g,"click",ma(Vd.prototype.b,d),this);e=ad("BUTTON",{"class":c+"-out",type:"button",title:f},e);M(e,"click",ma(Vd.prototype.b,-d),this);c=ad("DIV",
c+" ol-unselectable ol-control",g,e);od.call(this,{element:c,target:b.target});this.a=void 0!==b.duration?b.duration:250}C(Vd,od);Vd.prototype.b=function(b,c){c.preventDefault();var d=this.c,e=d.B();if(e){var f=e.w();f&&(0<this.a&&d.O(sc({resolution:f,duration:this.a,easing:nc})),d=e.constrainResolution(f,b),e.set("resolution",d))}};function Wd(b){b=b?b:{};var c=new W;(void 0!==b.zoom?b.zoom:1)&&c.push(new Vd(b.zoomOptions));(void 0!==b.rotate?b.rotate:1)&&c.push(new Td(b.rotateOptions));(void 0!==b.attribution?b.attribution:1)&&c.push(new Rd(b.attributionOptions));return c};function Xd(b){b=b?b:{};var c=document.createElement("DIV");c.className=void 0!==b.className?b.className:"ol-mouse-position";od.call(this,{element:c,render:b.render?b.render:Yd,target:b.target});M(this,kb("projection"),this.u,this);b.coordinateFormat&&this.set("coordinateFormat",b.coordinateFormat);if(b.projection){var d=Rb(b.projection);this.set("projection",d)}this.v=void 0!==b.undefinedHTML?b.undefinedHTML:"";this.l=c.innerHTML;this.f=this.b=this.a=null}C(Xd,od);
function Yd(b){b=b.frameState;b?this.a!=b.viewState.projection&&(this.a=b.viewState.projection,this.b=null):this.a=null;Zd(this,this.f)}Xd.prototype.u=function(){this.b=null};Xd.prototype.j=function(b){this.f=$d(this.c,b);Zd(this,this.f)};Xd.prototype.o=function(){Zd(this,null);this.f=null};Xd.prototype.setMap=function(b){Xd.I.setMap.call(this,b);b&&(b=b.a,this.g.push(M(b,"mousemove",this.j,this),M(b,"mouseout",this.o,this)))};
function Zd(b,c){var d=b.v;if(c&&b.a){if(!b.b){var e=b.get("projection");b.b=e?Qb(b.a,e):bc}if(e=b.c.Z(c))b.b(e,e),d=(d=b.get("coordinateFormat"))?d(e):e.toString()}b.l&&d==b.l||(b.element.innerHTML=d,b.l=d)};var ae;
function be(){var b=t.MessageChannel;"undefined"===typeof b&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!X("Presto")&&(b=function(){var b=document.createElement("IFRAME");b.style.display="none";b.src="";document.documentElement.appendChild(b);var c=b.contentWindow,b=c.document;b.open();b.write("");b.close();var d="callImmediate"+Math.random(),e="file:"==c.location.protocol?"*":c.location.protocol+"//"+c.location.host,b=la(function(b){if(("*"==e||b.origin==e)&&b.data==
d)this.port1.onmessage()},this);c.addEventListener("message",b,!1);this.port1={};this.port2={postMessage:function(){c.postMessage(d,e)}}});if("undefined"!==typeof b&&!X("Trident")&&!X("MSIE")){var c=new b,d={},e=d;c.port1.onmessage=function(){if(void 0!==d.next){d=d.next;var b=d.Na;d.Na=null;b()}};return function(b){e.next={Na:b};e=e.next;c.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(b){var c=document.createElement("SCRIPT");
c.onreadystatechange=function(){c.onreadystatechange=null;c.parentNode.removeChild(c);c=null;b();b=null};document.documentElement.appendChild(c)}:function(b){t.setTimeout(b,0)}};function ce(b,c,d){O.call(this,b);this.a=c;b=d?d:{};this.buttons=de(b);this.pressure=ee(b,this.buttons);this.bubbles="bubbles"in b?b.bubbles:!1;this.cancelable="cancelable"in b?b.cancelable:!1;this.view="view"in b?b.view:null;this.detail="detail"in b?b.detail:null;this.screenX="screenX"in b?b.screenX:0;this.screenY="screenY"in b?b.screenY:0;this.clientX="clientX"in b?b.clientX:0;this.clientY="clientY"in b?b.clientY:0;this.button="button"in b?b.button:0;this.relatedTarget="relatedTarget"in b?b.relatedTarget:
null;this.pointerId="pointerId"in b?b.pointerId:0;this.width="width"in b?b.width:0;this.height="height"in b?b.height:0;this.pointerType="pointerType"in b?b.pointerType:"";this.isPrimary="isPrimary"in b?b.isPrimary:!1;c.preventDefault&&(this.preventDefault=function(){c.preventDefault()})}C(ce,O);function de(b){if(b.buttons||fe)b=b.buttons;else switch(b.which){case 1:b=1;break;case 2:b=4;break;case 3:b=2;break;default:b=0}return b}function ee(b,c){var d=0;b.pressure?d=b.pressure:d=c?.5:0;return d}
var fe=!1;try{fe=1===(new MouseEvent("click",{buttons:1})).buttons}catch(b){};function ge(b,c){var d=document.createElement("CANVAS");b&&(d.width=b);c&&(d.height=c);return d.getContext("2d")};var he="undefined"!==typeof navigator?navigator.userAgent.toLowerCase():"",ie=-1!==he.indexOf("firefox"),je=-1!==he.indexOf("safari")&&-1===he.indexOf("chrom"),ke=-1!==he.indexOf("macintosh"),le=t.devicePixelRatio||1,me=function(){if(!("HTMLCanvasElement"in t))return!1;try{return ge()?!0:!1}catch(b){return!1}}(),ne="geolocation"in t.navigator,oe="ontouchstart"in t,pe="PointerEvent"in t,qe=!!t.navigator.msPointerEnabled;function re(b,c){this.a=b;this.h=c};function se(b){re.call(this,b,{mousedown:this.Hb,mousemove:this.Ib,mouseup:this.Lb,mouseover:this.Kb,mouseout:this.Jb});this.b=b.b;this.c=[]}C(se,re);function te(b,c){for(var d=b.c,e=c.clientX,f=c.clientY,g=0,h=d.length,k;g<h&&(k=d[g]);g++){var l=Math.abs(f-k[1]);if(25>=Math.abs(e-k[0])&&25>=l)return!0}return!1}function ue(b){var c=ve(b,b),d=c.preventDefault;c.preventDefault=function(){b.preventDefault();d()};c.pointerId=1;c.isPrimary=!0;c.pointerType="mouse";return c}p=se.prototype;
p.Hb=function(b){if(!te(this,b)){if((1).toString()in this.b){var c=ue(b);Y(this.a,we,c,b);delete this.b[(1).toString()]}c=ue(b);this.b[(1).toString()]=b;Y(this.a,xe,c,b)}};p.Ib=function(b){if(!te(this,b)){var c=ue(b);Y(this.a,ye,c,b)}};p.Lb=function(b){if(!te(this,b)){var c=this.b[(1).toString()];c&&c.button===b.button&&(c=ue(b),Y(this.a,ze,c,b),delete this.b[(1).toString()])}};p.Kb=function(b){if(!te(this,b)){var c=ue(b);Ae(this.a,c,b)}};p.Jb=function(b){if(!te(this,b)){var c=ue(b);Be(this.a,c,b)}};function Ce(b){re.call(this,b,{MSPointerDown:this.Qb,MSPointerMove:this.Rb,MSPointerUp:this.Ub,MSPointerOut:this.Sb,MSPointerOver:this.Tb,MSPointerCancel:this.Pb,MSGotPointerCapture:this.Nb,MSLostPointerCapture:this.Ob});this.b=b.b;this.c=["","unavailable","touch","pen","mouse"]}C(Ce,re);function De(b,c){var d=c;ea(c.pointerType)&&(d=ve(c,c),d.pointerType=b.c[c.pointerType]);return d}p=Ce.prototype;p.Qb=function(b){this.b[b.pointerId.toString()]=b;var c=De(this,b);Y(this.a,xe,c,b)};
p.Rb=function(b){var c=De(this,b);Y(this.a,ye,c,b)};p.Ub=function(b){var c=De(this,b);Y(this.a,ze,c,b);delete this.b[b.pointerId.toString()]};p.Sb=function(b){var c=De(this,b);Be(this.a,c,b)};p.Tb=function(b){var c=De(this,b);Ae(this.a,c,b)};p.Pb=function(b){var c=De(this,b);Y(this.a,we,c,b);delete this.b[b.pointerId.toString()]};p.Ob=function(b){Q(this.a,new ce("lostpointercapture",b,b))};p.Nb=function(b){Q(this.a,new ce("gotpointercapture",b,b))};function Ee(b){re.call(this,b,{pointerdown:this.fc,pointermove:this.gc,pointerup:this.jc,pointerout:this.hc,pointerover:this.ic,pointercancel:this.ec,gotpointercapture:this.mb,lostpointercapture:this.Fb})}C(Ee,re);p=Ee.prototype;p.fc=function(b){Fe(this.a,b)};p.gc=function(b){Fe(this.a,b)};p.jc=function(b){Fe(this.a,b)};p.hc=function(b){Fe(this.a,b)};p.ic=function(b){Fe(this.a,b)};p.ec=function(b){Fe(this.a,b)};p.Fb=function(b){Fe(this.a,b)};p.mb=function(b){Fe(this.a,b)};function Ge(b,c){re.call(this,b,{touchstart:this.uc,touchmove:this.tc,touchend:this.sc,touchcancel:this.rc});this.b=b.b;this.g=c;this.c=void 0;this.f=0;this.i=void 0}C(Ge,re);p=Ge.prototype;p.Va=function(){this.f=0;this.i=void 0};
function He(b,c,d){c=ve(c,d);c.pointerId=d.identifier+2;c.bubbles=!0;c.cancelable=!0;c.detail=b.f;c.button=0;c.buttons=1;c.width=d.webkitRadiusX||d.radiusX||0;c.height=d.webkitRadiusY||d.radiusY||0;c.pressure=d.webkitForce||d.force||.5;c.isPrimary=b.c===d.identifier;c.pointerType="touch";c.clientX=d.clientX;c.clientY=d.clientY;c.screenX=d.screenX;c.screenY=d.screenY;return c}
function Ie(b,c,d){function e(){c.preventDefault()}var f=Array.prototype.slice.call(c.changedTouches),g=f.length,h,k;for(h=0;h<g;++h)k=He(b,c,f[h]),k.preventDefault=e,d.call(b,c,k)}
p.uc=function(b){var c=b.touches,d=Object.keys(this.b),e=d.length;if(e>=c.length){var f=[],g,h,k;for(g=0;g<e;++g){h=d[g];k=this.b[h];var l;if(!(l=1==h))a:{l=c.length;for(var n=void 0,q=0;q<l;q++)if(n=c[q],n.identifier===h-2){l=!0;break a}l=!1}l||f.push(k.out)}for(g=0;g<f.length;++g)this.ua(b,f[g])}c=b.changedTouches[0];d=Object.keys(this.b).length;if(0===d||1===d&&(1).toString()in this.b)this.c=c.identifier,void 0!==this.i&&t.clearTimeout(this.i);Je(this,b);this.f++;Ie(this,b,this.dc)};
p.dc=function(b,c){this.b[c.pointerId]={target:c.target,out:c,Ua:c.target};var d=this.a;c.bubbles=!0;Y(d,Ke,c,b);d=this.a;c.bubbles=!1;Y(d,Le,c,b);Y(this.a,xe,c,b)};p.tc=function(b){b.preventDefault();Ie(this,b,this.Mb)};p.Mb=function(b,c){var d=this.b[c.pointerId];if(d){var e=d.out,f=d.Ua;Y(this.a,ye,c,b);e&&f!==c.target&&(e.relatedTarget=c.target,c.relatedTarget=f,e.target=f,c.target?(Be(this.a,e,b),Ae(this.a,c,b)):(c.target=f,c.relatedTarget=null,this.ua(b,c)));d.out=c;d.Ua=c.target}};
p.sc=function(b){Je(this,b);Ie(this,b,this.vc)};p.vc=function(b,c){Y(this.a,ze,c,b);this.a.out(c,b);var d=this.a;c.bubbles=!1;Y(d,Me,c,b);delete this.b[c.pointerId];c.isPrimary&&(this.c=void 0,this.i=t.setTimeout(this.Va.bind(this),200))};p.rc=function(b){Ie(this,b,this.ua)};p.ua=function(b,c){Y(this.a,we,c,b);this.a.out(c,b);var d=this.a;c.bubbles=!1;Y(d,Me,c,b);delete this.b[c.pointerId];c.isPrimary&&(this.c=void 0,this.i=t.setTimeout(this.Va.bind(this),200))};
function Je(b,c){var d=b.g.c,e=c.changedTouches[0];if(b.c===e.identifier){var f=[e.clientX,e.clientY];d.push(f);t.setTimeout(function(){Ka(d,f)},2500)}};function Ne(b){P.call(this);this.f=b;this.b={};this.h={};this.a=[];pe?Oe(this,new Ee(this)):qe?Oe(this,new Ce(this)):(b=new se(this),Oe(this,b),oe&&Oe(this,new Ge(this,b)));b=this.a.length;for(var c,d=0;d<b;d++)c=this.a[d],Pe(this,Object.keys(c.h))}C(Ne,P);function Oe(b,c){var d=Object.keys(c.h);d&&(d.forEach(function(b){var d=c.h[b];d&&(this.h[b]=d.bind(c))},b),b.a.push(c))}Ne.prototype.c=function(b){var c=this.h[b.type];c&&c(b)};
function Pe(b,c){c.forEach(function(b){M(this.f,b,this.c,this)},b)}function Qe(b,c){c.forEach(function(b){bb(this.f,b,this.c,this)},b)}function ve(b,c){for(var d={},e,f=0,g=Re.length;f<g;f++)e=Re[f][0],d[e]=b[e]||c[e]||Re[f][1];return d}Ne.prototype.out=function(b,c){b.bubbles=!0;Y(this,Se,b,c)};function Be(b,c,d){b.out(c,d);var e=c.relatedTarget;e&&ed(c.target,e)||(c.bubbles=!1,Y(b,Me,c,d))}
function Ae(b,c,d){c.bubbles=!0;Y(b,Ke,c,d);var e=c.relatedTarget;e&&ed(c.target,e)||(c.bubbles=!1,Y(b,Le,c,d))}function Y(b,c,d,e){Q(b,new ce(c,e,d))}function Fe(b,c){Q(b,new ce(c.type,c,c))}Ne.prototype.C=function(){for(var b=this.a.length,c,d=0;d<b;d++)c=this.a[d],Qe(this,Object.keys(c.h));Ne.I.C.call(this)};
var ye="pointermove",xe="pointerdown",ze="pointerup",Ke="pointerover",Se="pointerout",Le="pointerenter",Me="pointerleave",we="pointercancel",Re=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",
!1],["type",""],["target",null],["currentTarget",null],["which",0]];function Te(b,c,d,e,f){nd.call(this,b,c,f);this.originalEvent=d;this.pixel=$d(c,d);this.coordinate=c.Z(this.pixel);this.dragging=void 0!==e?e:!1}C(Te,nd);Te.prototype.preventDefault=function(){Te.I.preventDefault.call(this);this.originalEvent.preventDefault()};Te.prototype.stopPropagation=function(){Te.I.stopPropagation.call(this);this.originalEvent.stopPropagation()};function Ue(b,c,d,e,f){Te.call(this,b,c,d.a,e,f);this.a=d}C(Ue,Te);
function Ve(b){P.call(this);this.c=b;this.g=0;this.s=!1;this.h=[];this.b=null;b=this.c.a;this.u=0;this.o={};this.f=new Ne(b);this.a=null;this.l=M(this.f,xe,this.tb,this);this.j=M(this.f,ye,this.nc,this)}C(Ve,P);function We(b,c){var d;d=new Ue(Xe,b.c,c);Q(b,d);0!==b.g?(t.clearTimeout(b.g),b.g=0,d=new Ue(Ye,b.c,c),Q(b,d)):b.g=t.setTimeout(function(){this.g=0;var b=new Ue(Ze,this.c,c);Q(this,b)}.bind(b),250)}
function $e(b,c){c.type==af||c.type==bf?delete b.o[c.pointerId]:c.type==cf&&(b.o[c.pointerId]=!0);b.u=Object.keys(b.o).length}p=Ve.prototype;p.Ra=function(b){$e(this,b);var c=new Ue(af,this.c,b);Q(this,c);!this.s&&0===b.button&&We(this,this.b);0===this.u&&(this.h.forEach(J),this.h.length=0,this.s=!1,this.b=null,db(this.a),this.a=null)};
p.tb=function(b){$e(this,b);var c=new Ue(cf,this.c,b);Q(this,c);this.b=b;0===this.h.length&&(this.a=new Ne(document),this.h.push(M(this.a,df,this.ub,this),M(this.a,af,this.Ra,this),M(this.f,bf,this.Ra,this)))};p.ub=function(b){if(b.clientX!=this.b.clientX||b.clientY!=this.b.clientY){this.s=!0;var c=new Ue(ef,this.c,b,this.s);Q(this,c)}b.preventDefault()};p.nc=function(b){Q(this,new Ue(b.type,this.c,b,!(!this.b||b.clientX==this.b.clientX&&b.clientY==this.b.clientY)))};
p.C=function(){this.j&&(J(this.j),this.j=null);this.l&&(J(this.l),this.l=null);this.h.forEach(J);this.h.length=0;this.a&&(db(this.a),this.a=null);this.f&&(db(this.f),this.f=null);Ve.I.C.call(this)};var Ze="singleclick",Xe="click",Ye="dblclick",ef="pointerdrag",df="pointermove",cf="pointerdown",af="pointerup",bf="pointercancel",ff={Hc:Ze,wc:Xe,xc:Ye,Ac:ef,Dc:df,zc:cf,Gc:af,Fc:"pointerover",Ec:"pointerout",Bc:"pointerenter",Cc:"pointerleave",yc:bf};function gf(b){S.call(this);var c=H({},b);c.opacity=void 0!==b.opacity?b.opacity:1;c.visible=void 0!==b.visible?b.visible:!0;c.zIndex=void 0!==b.zIndex?b.zIndex:0;c.maxResolution=void 0!==b.maxResolution?b.maxResolution:Infinity;c.minResolution=void 0!==b.minResolution?b.minResolution:0;ib(this,c)}C(gf,S);
function hf(b){var c=b.get("opacity"),d=b.Aa(),e=b.get("visible"),f=b.a(),g=b.get("zIndex"),h=b.get("maxResolution"),k=b.get("minResolution");return{layer:b,opacity:Ca(c,0,1),qc:d,visible:e,Gb:!0,extent:f,zIndex:g,maxResolution:h,minResolution:Math.max(k,0)}}gf.prototype.a=function(){return this.get("extent")};function jf(){};function kf(b,c,d,e,f,g){O.call(this,b,c);this.vectorContext=d;this.frameState=e;this.context=f;this.glContext=g}C(kf,O);function lf(b){var c=H({},b);delete c.source;gf.call(this,c);this.f=this.c=this.b=null;b.map&&this.setMap(b.map);M(this,kb("source"),this.xb,this);this.set("source",b.source?b.source:null)}C(lf,gf);p=lf.prototype;p.ya=function(b){b=b?b:[];b.push(hf(this));return b};p.U=function(){return this.get("source")||null};p.Aa=function(){var b=this.U();return b?b.A():"undefined"};p.ac=function(){R(this)};p.xb=function(){this.f&&(J(this.f),this.f=null);var b=this.U();b&&(this.f=M(b,"change",this.ac,this));R(this)};
p.setMap=function(b){this.b&&(J(this.b),this.b=null);b||R(this);this.c&&(J(this.c),this.c=null);b&&(this.b=M(b,"precompose",function(b){var d=hf(this);d.Gb=!1;d.zIndex=Infinity;b.frameState.layerStatesArray.push(d);b.frameState.layerStates[v(this)]=d},this),this.c=M(this,"change",b.render,b),R(this))};function mf(b,c,d,e,f){P.call(this);this.o=f;this.extent=b;this.f=d;this.resolution=c;this.state=e}C(mf,P);function nf(b){Q(b,"change")}mf.prototype.l=function(){return this.o};mf.prototype.a=function(){return this.extent};mf.prototype.w=function(){return this.resolution};mf.prototype.A=function(){return this.state};function of(b,c,d,e,f,g,h,k){b[0]=1;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=1;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=1;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;0===c&&0===d||tb(b,c,d);if(1!=e||1!=f){c=b[1]*e;d=b[2]*e;var l=b[3]*e,n=b[4]*f,q=b[5]*f,m=b[6]*f;f=b[7]*f;var r=1*b[8],w=1*b[9],u=1*b[10],x=1*b[11],y=b[12],I=b[13],D=b[14],K=b[15];b[0]*=e;b[1]=c;b[2]=d;b[3]=l;b[4]=n;b[5]=q;b[6]=m;b[7]=f;b[8]=r;b[9]=w;b[10]=u;b[11]=x;b[12]=y;b[13]=I;b[14]=D;b[15]=K}0!==g&&(e=b[0],c=b[1],d=b[2],l=b[3],n=b[4],q=b[5],m=b[6],
f=b[7],r=Math.cos(g),g=Math.sin(g),b[0]=e*r+n*g,b[1]=c*r+q*g,b[2]=d*r+m*g,b[3]=l*r+f*g,b[4]=e*-g+n*r,b[5]=c*-g+q*r,b[6]=d*-g+m*r,b[7]=l*-g+f*r);0===h&&0===k||tb(b,h,k);return b}function pf(b,c,d){var e=b[1],f=b[5],g=b[13],h=c[0];c=c[1];d[0]=b[0]*h+b[4]*c+b[12];d[1]=e*h+f*c+g;return d};function qf(b){gb.call(this);this.b=b}C(qf,gb);function rf(b,c,d){return function(e,f){return Od(b,c,e,f,function(b){d[e]||(d[e]={});d[e][b.N.toString()]=b})}}qf.prototype.l=function(b){2===b.target.A()&&(b=this.b,b.get("visible")&&"ready"==b.Aa()&&R(this))};function sf(b,c){c.Sa()&&b.postRenderFunctions.push(ma(function(b,c,f){c=v(b).toString();b.Ta(f.viewState.projection,f.usedTiles[c])},c))}
function tf(b,c){var d=c.V;void 0!==d&&("string"===typeof d?b.logos[d]="":fa(d)&&(b.logos[d.src]=d.href))}function uf(b,c,d,e){c=v(c).toString();d=d.toString();c in b?d in b[c]?(b=b[c][d],e.b<b.b&&(b.b=e.b),e.a>b.a&&(b.a=e.a),e.i<b.i&&(b.i=e.i),e.c>b.c&&(b.c=e.c)):b[c][d]=e:(b[c]={},b[c][d]=e)}function vf(b,c,d){return[c*(Math.round(b[0]/c)+d[0]%2/2),c*(Math.round(b[1]/c)+d[1]%2/2)]}
function wf(b,c,d,e,f,g,h,k){var l=v(c).toString();l in b.wantedTiles||(b.wantedTiles[l]={});var n=b.wantedTiles[l];b=b.tileQueue;var q=d.minZoom,m,r,w,u,x,y;for(y=h;y>=q;--y)for(r=Cd(d,g,y,r),w=d.w(y),u=r.b;u<=r.a;++u)for(x=r.i;x<=r.c;++x)h-y<=k?(m=xf(c,y,u,x,e,f),0==m.A()&&(n[m.N.toString()]=!0,m.getKey()in b.c||b.g([m,l,Gd(d,m.N),w]))):c.Wa(y,u,x,f)};function yf(){this.a={};this.b=0}yf.b=function(){return yf.a?yf.a:yf.a=new yf};yf.prototype.clear=function(){this.a={};this.b=0};yf.prototype.get=function(b,c,d){b=c+":"+b+":"+(d?Cc(d):"null");return b in this.a?this.a[b]:null};yf.prototype.set=function(b,c,d,e){this.a[c+":"+b+":"+(d?Cc(d):"null")]=e;++this.b};function zf(b,c){this.f=c;this.b={};this.i={}}C(zf,cb);zf.prototype.C=function(){for(var b in this.b)db(this.b[b])};function Af(){var b=yf.b();if(32<b.b){var c=0,d,e;for(d in b.a)e=b.a[d],0!==(c++&3)||fb(e)||(delete b.a[d],--b.b)}}zf.prototype.D=function(){this.f.render()};zf.prototype.g=pa;zf.prototype.l=function(b,c){for(var d in this.b)if(!(c&&d in c.layerStates)){var e=d,f=this.b[e];delete this.b[e];J(this.i[e]);delete this.i[e];db(f)}};function Ma(b,c){return b.zIndex-c.zIndex};function Bf(b,c){this.s=b;this.f=c;this.a=[];this.b=[];this.c={}}Bf.prototype.clear=function(){this.a.length=0;this.b.length=0;Ua(this.c)};Bf.prototype.g=function(b){var c=this.s(b);return Infinity!=c?(this.a.push(b),this.b.push(c),this.c[this.f(b)]=!0,Cf(this,0,this.a.length-1),!0):!1};function Df(b,c){for(var d=b.a,e=b.b,f=d.length,g=d[c],h=e[c],k=c;c<f>>1;){var l=2*c+1,n=2*c+2,l=n<f&&e[n]<e[l]?n:l;d[c]=d[l];e[c]=e[l];c=l}d[c]=g;e[c]=h;Cf(b,k,c)}
function Cf(b,c,d){var e=b.a;b=b.b;for(var f=e[d],g=b[d];d>c;){var h=d-1>>1;if(b[h]>g)e[d]=e[h],b[d]=b[h],d=h;else break}e[d]=f;b[d]=g};function Ef(b,c){Bf.call(this,function(c){return b.apply(null,c)},function(b){return b[0].getKey()});this.l=c;this.h=0;this.i={}}C(Ef,Bf);Ef.prototype.g=function(b){var c=Ef.I.g.call(this,b);c&&M(b[0],"change",this.D,this);return c};Ef.prototype.D=function(b){b=b.target;var c=b.A();if(2===c||3===c||4===c||5===c)bb(b,"change",this.D,this),b=b.getKey(),b in this.i&&(delete this.i[b],--this.h),this.l()};function Ff(){this.a=[];this.b=this.c=0}function Gf(b,c){var d=b.b,e=.05-d,f=Math.log(.05/b.b)/-.005;return qc({source:c,duration:f,easing:function(b){return d*(Math.exp(-.005*b*f)-1)/e}})};function Hf(b){S.call(this);this.u=null;this.set("active",!0);this.handleEvent=b.handleEvent}C(Hf,S);Hf.prototype.setMap=function(b){this.u=b};function If(b,c,d,e,f){if(void 0!==d){var g=kc(c),h=jc(c);void 0!==g&&h&&f&&0<f&&(b.O(rc({rotation:g,duration:f,easing:nc})),e&&b.O(qc({source:h,duration:f,easing:nc})));c.rotate(d,e)}}function Jf(b,c,d,e,f){var g=c.w();d=c.constrainResolution(g,d,0);Kf(b,c,d,e,f)}
function Kf(b,c,d,e,f){if(d){var g=c.w(),h=jc(c);void 0!==g&&h&&d!==g&&f&&0<f&&(b.O(sc({resolution:g,duration:f,easing:nc})),e&&b.O(qc({source:h,duration:f,easing:nc})));if(e){var k;b=jc(c);f=c.w();void 0!==b&&void 0!==f&&(k=[e[0]-d*(e[0]-b[0])/f,e[1]-d*(e[1]-b[1])/f]);lc(c,k)}c.set("resolution",d)}};function Lf(b){b=b?b:{};this.a=b.delta?b.delta:1;Hf.call(this,{handleEvent:Mf});this.b=void 0!==b.duration?b.duration:250}C(Lf,Hf);function Mf(b){var c=!1,d=b.originalEvent;if(b.type==Ye){var c=b.map,e=b.coordinate,d=d.shiftKey?-this.a:this.a,f=c.B();Jf(c,f,d,e,this.b);b.preventDefault();c=!0}return!c};function Nf(b){b=b.originalEvent;return b.altKey&&!(b.metaKey||b.ctrlKey)&&b.shiftKey}function Of(b){b=b.originalEvent;return 0==b.button&&!(Nc&&ke&&b.ctrlKey)}function Pf(b){b=b.originalEvent;return!b.altKey&&!(b.metaKey||b.ctrlKey)&&!b.shiftKey}function Qf(b){b=b.originalEvent;return!b.altKey&&!(b.metaKey||b.ctrlKey)&&b.shiftKey}function Rf(b){b=b.originalEvent.target.tagName;return"INPUT"!==b&&"SELECT"!==b&&"TEXTAREA"!==b}function Sf(b){return"mouse"==b.a.pointerType};function Tf(b){b=b?b:{};Hf.call(this,{handleEvent:b.handleEvent?b.handleEvent:Uf});this.H=b.handleDownEvent?b.handleDownEvent:Jb;this.J=b.handleDragEvent?b.handleDragEvent:pa;this.L=b.handleMoveEvent?b.handleMoveEvent:pa;this.S=b.handleUpEvent?b.handleUpEvent:Jb;this.c=!1;this.j={};this.a=[]}C(Tf,Hf);function Vf(b){for(var c=b.length,d=0,e=0,f=0;f<c;f++)d+=b[f].clientX,e+=b[f].clientY;return[d/c,e/c]}
function Uf(b){if(!(b instanceof Ue))return!0;var c=!1,d=b.type;if(d===cf||d===ef||d===af){d=b.a;b.type==af?delete this.j[d.pointerId]:b.type==cf?this.j[d.pointerId]=d:d.pointerId in this.j&&(this.j[d.pointerId]=d);var d=this.j,e=[],f;for(f in d)e.push(d[f]);this.a=e}this.c&&(b.type==ef?this.J(b):b.type==af&&(this.c=this.S(b)));b.type==cf?(this.c=b=this.H(b),c=this.l(b)):b.type==df&&this.L(b);return!c}Tf.prototype.l=function(b){return b};function Wf(b){Tf.call(this,{handleDownEvent:Xf,handleDragEvent:Yf,handleUpEvent:Zf});b=b?b:{};this.b=b.kinetic;this.f=this.g=null;this.v=b.condition?b.condition:Pf;this.o=!1}C(Wf,Tf);function Yf(b){var c=Vf(this.a);this.b&&this.b.a.push(c[0],c[1],Date.now());if(this.f){var d=this.f[0]-c[0],e=c[1]-this.f[1];b=b.map;var f=b.B(),g=f.A(),e=d=[d,e],h=g.resolution;e[0]*=h;e[1]*=h;pb(d,g.rotation);ob(d,g.center);d=f.a.center(d);b.render();lc(f,d)}this.f=c}
function Zf(b){b=b.map;var c=b.B();if(0===this.a.length){var d;if(d=!this.o&&this.b)if(d=this.b,6>d.a.length)d=!1;else{var e=Date.now()-100,f=d.a.length-3;if(d.a[f+2]<e)d=!1;else{for(var g=f-3;0<g&&d.a[g+2]>e;)g-=3;var e=d.a[f+2]-d.a[g+2],h=d.a[f]-d.a[g],f=d.a[f+1]-d.a[g+1];d.c=Math.atan2(f,h);d.b=Math.sqrt(h*h+f*f)/e;d=.05<d.b}}d&&(d=(.05-this.b.b)/-.005,f=this.b.c,g=jc(c),this.g=Gf(this.b,g),b.O(this.g),g=$f(b,g),d=b.Z([g[0]-d*Math.cos(f),g[1]-d*Math.sin(f)]),d=c.a.center(d),lc(c,d));mc(c,-1);b.render();
return!1}this.f=null;return!0}function Xf(b){if(0<this.a.length&&this.v(b)){var c=b.map,d=c.B();this.f=null;this.c||mc(d,1);c.render();this.g&&Ka(c.v,this.g)&&(lc(d,b.frameState.viewState.center),this.g=null);this.b&&(b=this.b,b.a.length=0,b.c=0,b.b=0);this.o=1<this.a.length;return!0}return!1}Wf.prototype.l=Jb;function ag(b){b=b?b:{};Tf.call(this,{handleDownEvent:bg,handleDragEvent:cg,handleUpEvent:dg});this.f=b.condition?b.condition:Nf;this.b=void 0;this.g=void 0!==b.duration?b.duration:250}C(ag,Tf);function cg(b){if(Sf(b)){var c=b.map,d=c.na();b=b.pixel;d=Math.atan2(d[1]/2-b[1],b[0]-d[0]/2);if(void 0!==this.b){b=d-this.b;var e=c.B(),f=kc(e);c.render();If(c,e,f-b)}this.b=d}}
function dg(b){if(!Sf(b))return!0;b=b.map;var c=b.B();mc(c,-1);var d=kc(c),e=this.g,d=c.constrainRotation(d,0);If(b,c,d,void 0,e);return!1}function bg(b){return Sf(b)&&Of(b)&&this.f(b)?(b=b.map,mc(b.B(),1),b.render(),this.b=void 0,!0):!1}ag.prototype.l=Jb;function eg(b){this.h=null;this.c=document.createElement("div");this.c.style.position="absolute";this.c.className="ol-box "+b;this.i=this.f=this.a=null}C(eg,cb);eg.prototype.C=function(){this.setMap(null)};function fg(b){var c=b.f,d=b.i;b=b.c.style;b.left=Math.min(c[0],d[0])+"px";b.top=Math.min(c[1],d[1])+"px";b.width=Math.abs(d[0]-c[0])+"px";b.height=Math.abs(d[1]-c[1])+"px"}
eg.prototype.setMap=function(b){if(this.a){this.a.u.removeChild(this.c);var c=this.c.style;c.left=c.top=c.width=c.height="inherit"}(this.a=b)&&this.a.u.appendChild(this.c)};function gg(b){var c=b.f,d=b.i,c=[c,[c[0],d[1]],d,[d[0],c[1]]].map(b.a.Z,b.a);c[4]=c[0].slice();b.h?hc(b.h,[c]):b.h=new gc([c])}eg.prototype.b=function(){return this.h};function hg(b,c,d){O.call(this,b);this.coordinate=c;this.mapBrowserEvent=d}C(hg,O);function ig(b){Tf.call(this,{handleDownEvent:jg,handleDragEvent:kg,handleUpEvent:lg});b=b?b:{};this.f=new eg(b.className||"ol-dragbox");this.g=null;this.V=b.condition?b.condition:Ib;this.F=b.boxEndCondition?b.boxEndCondition:mg}C(ig,Tf);function mg(b,c,d){b=d[0]-c[0];c=d[1]-c[1];return 64<=b*b+c*c}
function kg(b){if(Sf(b)){var c=this.f,d=b.pixel;c.f=this.g;c.i=d;gg(c);fg(c);Q(this,new hg("boxdrag",b.coordinate,b))}}ig.prototype.b=function(){return this.f.b()};ig.prototype.v=pa;function lg(b){if(!Sf(b))return!0;this.f.setMap(null);this.F(b,this.g,b.pixel)&&(this.v(b),Q(this,new hg("boxend",b.coordinate,b)));return!1}
function jg(b){if(Sf(b)&&Of(b)&&this.V(b)){this.g=b.pixel;this.f.setMap(b.map);var c=this.f,d=this.g;c.f=this.g;c.i=d;gg(c);fg(c);Q(this,new hg("boxstart",b.coordinate,b));return!0}return!1};function ng(b){b=b?b:{};var c=b.condition?b.condition:Qf;this.o=void 0!==b.duration?b.duration:200;this.T=void 0!==b.out?b.out:!1;ig.call(this,{condition:c,className:b.className||"ol-dragzoom"})}C(ng,ig);
ng.prototype.v=function(){var b=this.u,c=b.B(),d=b.na(),e=this.b().a();if(this.T){var f;f=jc(c);var g=c.w(),h=kc(c);f=Fb(f,g,h,d);var e=[$f(b,Db(e)),$f(b,[e[2],e[3]])],g=yb(Infinity,Infinity,-Infinity,-Infinity,void 0),k,h=0;for(k=e.length;h<k;++h)wb(g,e[h]);g=1/Math.max(T(g)/d[0],Cb(g)/d[1]);e=(f[2]-f[0])/2*(g-1);g=(f[3]-f[1])/2*(g-1);f[0]-=e;f[2]+=e;f[1]-=g;f[3]+=g;e=f}d=c.constrainResolution(Math.max(T(e)/d[0],Cb(e)/d[1]));f=c.w();g=jc(c);b.O(sc({resolution:f,duration:this.o,easing:nc}));b.O(qc({source:g,
duration:this.o,easing:nc}));lc(c,Eb(e));c.set("resolution",d)};function og(b){Hf.call(this,{handleEvent:pg});b=b||{};this.a=function(b){return Pf.call(this,b)&&Rf.call(this,b)};this.b=void 0!==b.condition?b.condition:this.a;this.c=void 0!==b.duration?b.duration:100;this.f=void 0!==b.pixelDelta?b.pixelDelta:128}C(og,Hf);
function pg(b){var c=!1;if("keydown"==b.type){var d=b.originalEvent.keyCode;if(this.b(b)&&(40==d||37==d||39==d||38==d)){var e=b.map,c=e.B(),f=c.w()*this.f,g=0,h=0;40==d?h=-f:37==d?g=-f:39==d?g=f:h=f;d=[g,h];pb(d,kc(c));f=this.c;if(g=jc(c))f&&0<f&&e.O(qc({source:g,duration:f,easing:pc})),e=c.a.center([g[0]+d[0],g[1]+d[1]]),lc(c,e);b.preventDefault();c=!0}}return!c};function qg(b){Hf.call(this,{handleEvent:rg});b=b?b:{};this.b=b.condition?b.condition:Rf;this.a=b.delta?b.delta:1;this.c=void 0!==b.duration?b.duration:100}C(qg,Hf);function rg(b){var c=!1;if("keydown"==b.type||"keypress"==b.type){var d=b.originalEvent.charCode;if(this.b(b)&&(43==d||45==d)){c=b.map;d=43==d?this.a:-this.a;c.render();var e=c.B();Jf(c,e,d,void 0,this.c);b.preventDefault();c=!0}}return!c};function sg(b){Hf.call(this,{handleEvent:tg});b=b||{};this.a=0;this.l=void 0!==b.duration?b.duration:250;this.j=void 0!==b.useAnchor?b.useAnchor:!0;this.c=null;this.f=this.b=void 0}C(sg,Hf);
function tg(b){var c=!1;if("wheel"==b.type||"mousewheel"==b.type){var c=b.map,d=b.originalEvent;this.j&&(this.c=b.coordinate);var e;"wheel"==b.type?(e=d.deltaY,ie&&d.deltaMode===t.WheelEvent.DOM_DELTA_PIXEL&&(e/=le),d.deltaMode===t.WheelEvent.DOM_DELTA_LINE&&(e*=40)):"mousewheel"==b.type&&(e=-d.wheelDeltaY,je&&(e/=3));this.a+=e;void 0===this.b&&(this.b=Date.now());e=Math.max(80-(Date.now()-this.b),0);t.clearTimeout(this.f);this.f=t.setTimeout(this.g.bind(this,c),e);b.preventDefault();c=!0}return!c}
sg.prototype.g=function(b){var c=Ca(this.a,-1,1),d=b.B();b.render();Jf(b,d,-c,this.c,this.l);this.a=0;this.c=null;this.f=this.b=void 0};function ug(b){Tf.call(this,{handleDownEvent:vg,handleDragEvent:wg,handleUpEvent:xg});b=b||{};this.f=null;this.g=void 0;this.b=!1;this.o=0;this.F=void 0!==b.threshold?b.threshold:.3;this.v=void 0!==b.duration?b.duration:250}C(ug,Tf);
function wg(b){var c=0,d=this.a[0],e=this.a[1],d=Math.atan2(e.clientY-d.clientY,e.clientX-d.clientX);void 0!==this.g&&(c=d-this.g,this.o+=c,!this.b&&Math.abs(this.o)>this.F&&(this.b=!0));this.g=d;b=b.map;d=b.a.getBoundingClientRect();e=Vf(this.a);e[0]-=d.left;e[1]-=d.top;this.f=b.Z(e);this.b&&(d=b.B(),e=kc(d),b.render(),If(b,d,e+c,this.f))}
function xg(b){if(2>this.a.length){b=b.map;var c=b.B();mc(c,-1);if(this.b){var d=kc(c),e=this.f,f=this.v,d=c.constrainRotation(d,0);If(b,c,d,e,f)}return!1}return!0}function vg(b){return 2<=this.a.length?(b=b.map,this.f=null,this.g=void 0,this.b=!1,this.o=0,this.c||mc(b.B(),1),b.render(),!0):!1}ug.prototype.l=Jb;function yg(b){Tf.call(this,{handleDownEvent:zg,handleDragEvent:Ag,handleUpEvent:Bg});b=b?b:{};this.f=null;this.o=void 0!==b.duration?b.duration:400;this.b=void 0;this.g=1}C(yg,Tf);function Ag(b){var c=1,d=this.a[0],e=this.a[1],f=d.clientX-e.clientX,d=d.clientY-e.clientY,f=Math.sqrt(f*f+d*d);void 0!==this.b&&(c=this.b/f);this.b=f;1!=c&&(this.g=c);b=b.map;var f=b.B(),d=f.w(),e=b.a.getBoundingClientRect(),g=Vf(this.a);g[0]-=e.left;g[1]-=e.top;this.f=b.Z(g);b.render();Kf(b,f,d*c,this.f)}
function Bg(b){if(2>this.a.length){b=b.map;var c=b.B();mc(c,-1);var d=c.w(),e=this.f,f=this.o,d=c.constrainResolution(d,0,this.g-1);Kf(b,c,d,e,f);return!1}return!0}function zg(b){return 2<=this.a.length?(b=b.map,this.f=null,this.b=void 0,this.g=1,this.c||mc(b.B(),1),b.render(),!0):!1}yg.prototype.l=Jb;function Cg(b){var c=b||{};b=H({},c);delete b.layers;c=c.layers;gf.call(this,b);this.c=[];this.b={};M(this,kb("layers"),this.rb,this);c?Array.isArray(c)&&(c=new W(c.slice())):c=new W;this.set("layers",c)}C(Cg,gf);p=Cg.prototype;p.ma=function(){this.get("visible")&&R(this)};
p.rb=function(){this.c.forEach(J);this.c.length=0;var b=this.get("layers");this.c.push(M(b,"add",this.qb,this),M(b,"remove",this.sb,this));for(var c in this.b)this.b[c].forEach(J);Ua(this.b);var b=b.a,d,e;c=0;for(d=b.length;c<d;c++)e=b[c],this.b[v(e).toString()]=[M(e,"propertychange",this.ma,this),M(e,"change",this.ma,this)];R(this)};p.qb=function(b){b=b.element;var c=v(b).toString();this.b[c]=[M(b,"propertychange",this.ma,this),M(b,"change",this.ma,this)];R(this)};
p.sb=function(b){b=v(b.element).toString();this.b[b].forEach(J);delete this.b[b];R(this)};p.ya=function(b){var c=void 0!==b?b:[],d=c.length;this.get("layers").fa(function(b){b.ya(c)});b=hf(this);var e,f;for(e=c.length;d<e;d++)f=c[d],f.opacity*=b.opacity,f.visible=f.visible&&b.visible,f.maxResolution=Math.min(f.maxResolution,b.maxResolution),f.minResolution=Math.max(f.minResolution,b.minResolution),void 0!==b.extent&&(f.extent=void 0!==f.extent?Gb(f.extent,b.extent):b.extent);return c};p.Aa=function(){return"ready"};function Dg(b){Ob.call(this,{code:b,units:"m",extent:Eg,global:!0,worldExtent:Fg})}C(Dg,Ob);Dg.prototype.getPointResolution=function(b,c){return b/Ea(c[1]/6378137)};var Gg=6378137*Math.PI,Eg=[-Gg,-Gg,Gg,Gg],Fg=[-180,-85,180,85],Hg="EPSG:3857 EPSG:102100 EPSG:102113 EPSG:900913 urn:ogc:def:crs:EPSG:6.18:3:3857 urn:ogc:def:crs:EPSG::3857 http://www.opengis.net/gml/srs/epsg.xml#3857".split(" ").map(function(b){return new Dg(b)});
function Ig(b,c,d){var e=b.length;d=1<d?d:2;void 0===c&&(2<d?c=b.slice():c=Array(e));for(var f=0;f<e;f+=d)c[f]=6378137*Math.PI*b[f]/180,c[f+1]=6378137*Math.log(Math.tan(Math.PI*(b[f+1]+90)/360));return c}function Jg(b,c,d){var e=b.length;d=1<d?d:2;void 0===c&&(2<d?c=b.slice():c=Array(e));for(var f=0;f<e;f+=d)c[f]=180*b[f]/(6378137*Math.PI),c[f+1]=360*Math.atan(Math.exp(b[f+1]/6378137))/Math.PI-90;return c};var Kg=new Kb(6378137);function Lg(b,c){Ob.call(this,{code:b,units:"degrees",extent:Mg,axisOrientation:c,global:!0,metersPerUnit:Ng,worldExtent:Mg})}C(Lg,Ob);Lg.prototype.getPointResolution=function(b){return b};
var Mg=[-180,-90,180,90],Ng=Math.PI*Kg.radius/180,Og=[new Lg("CRS:84"),new Lg("EPSG:4326","neu"),new Lg("urn:ogc:def:crs:EPSG::4326","neu"),new Lg("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new Lg("urn:ogc:def:crs:OGC:1.3:CRS84"),new Lg("urn:ogc:def:crs:OGC:2:84"),new Lg("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Lg("urn:x-ogc:def:crs:EPSG:4326","neu")];function Pg(b){lf.call(this,b?b:{})}C(Pg,lf);function Qg(b){b=b?b:{};var c=H({},b);delete c.preload;delete c.useInterimTilesOnError;lf.call(this,c);this.set("preload",void 0!==b.preload?b.preload:0);this.set("useInterimTilesOnError",void 0!==b.useInterimTilesOnError?b.useInterimTilesOnError:!0)}C(Qg,lf);function Rg(b,c,d,e){0!==c&&(b.translate(d,e),b.rotate(c),b.translate(-d,-e))};function Sg(){sb()}C(Sg,jf);function Tg(b){qf.call(this,b);this.j=sb()}C(Tg,qf);
Tg.prototype.f=function(b,c,d){Ug(this,"precompose",d,b,void 0);var e=this.a?this.a.g():null;if(e){var f=c.extent,g=void 0!==f;if(g){var h=b.pixelRatio,k=b.size[0]*h,l=b.size[1]*h,n=b.viewState.rotation,q=[f[0],f[3]],m=[f[2],f[3]],r=[f[2],f[1]],f=Db(f);pf(b.coordinateToPixelMatrix,q,q);pf(b.coordinateToPixelMatrix,m,m);pf(b.coordinateToPixelMatrix,r,r);pf(b.coordinateToPixelMatrix,f,f);d.save();Rg(d,-n,k/2,l/2);d.beginPath();d.moveTo(q[0]*h,q[1]*h);d.lineTo(m[0]*h,m[1]*h);d.lineTo(r[0]*h,r[1]*h);
d.lineTo(f[0]*h,f[1]*h);d.clip();Rg(d,n,k/2,l/2)}h=this.c;k=d.globalAlpha;d.globalAlpha=c.opacity;d.drawImage(e,0,0,+e.width,+e.height,Math.round(h[12]),Math.round(h[13]),Math.round(e.width*h[0]),Math.round(e.height*h[5]));d.globalAlpha=k;g&&d.restore()}Ug(this,"postcompose",d,b,void 0)};
function Ug(b,c,d,e,f){var g=b.b;if(fb(g,c)){var h=e.size[0]*e.pixelRatio,k=e.size[1]*e.pixelRatio,l=e.viewState.rotation;Rg(d,-l,h/2,k/2);void 0!==f||Vg(b,e);b=new Sg;Q(g,new kf(c,g,b,e,d,null));Rg(d,l,h/2,k/2)}}function Vg(b,c){var d=c.viewState,e=c.pixelRatio;return of(b.j,e*c.size[0]/2,e*c.size[1]/2,e/d.resolution,-e/d.resolution,-d.rotation,-d.center[0]+0,-d.center[1])};var Wg=!((X("Chrome")||X("CriOS"))&&!X("Opera")&&!X("OPR")&&!X("Edge"))||X("iPhone")&&!X("iPod")&&!X("iPad")||X("iPad")||X("iPod");function Xg(b,c,d,e){var f;f=ac(c,b)(d,void 0,d.length);d=c.getPointResolution(e,d);c=Pb(c);void 0!==c&&(d*=c);c=Pb(b);void 0!==c&&(d/=c);b=b.getPointResolution(d,f)/d;isFinite(b)&&0<b&&(d/=b);return d}function Yg(b,c,d,e){b=d-b;c=e-c;var f=Math.sqrt(b*b+c*c);return[Math.round(d+b/f),Math.round(e+c/f)]}
function Zg(b,c,d,e,f,g,h,k,l,n,q){var m=ge(Math.round(d*b),Math.round(d*c));if(0===l.length)return m.canvas;m.scale(d,d);var r=vb();l.forEach(function(b){b=b.extent;b[0]<r[0]&&(r[0]=b[0]);b[2]>r[2]&&(r[2]=b[2]);b[1]<r[1]&&(r[1]=b[1]);b[3]>r[3]&&(r[3]=b[3])});var w=ge(Math.round(d*T(r)/e),Math.round(d*Cb(r)/e)),u=d/e;l.forEach(function(b){w.drawImage(b.image,n,n,b.image.width-2*n,b.image.height-2*n,(b.extent[0]-r[0])*u,-(b.extent[3]-r[3])*u,T(b.extent)*u,Cb(b.extent)*u)});var x=[h[0],h[3]];k.i.forEach(function(b){var c=
b.source,f=b.target,h=c[1][0],k=c[1][1],u=c[2][0],l=c[2][1];b=(f[0][0]-x[0])/g;var n=-(f[0][1]-x[1])/g,q=(f[1][0]-x[0])/g,z=-(f[1][1]-x[1])/g,E=(f[2][0]-x[0])/g,L=-(f[2][1]-x[1])/g,f=c[0][0],c=c[0][1],h=h-f,k=k-c,u=u-f,l=l-c;a:{h=[[h,k,0,0,q-b],[u,l,0,0,E-b],[0,0,h,k,z-n],[0,0,u,l,L-n]];k=h.length;for(u=0;u<k;u++){for(var l=u,G=Math.abs(h[u][u]),A=u+1;A<k;A++){var da=Math.abs(h[A][u]);da>G&&(G=da,l=A)}if(0===G){h=null;break a}G=h[l];h[l]=h[u];h[u]=G;for(l=u+1;l<k;l++)for(G=-h[l][u]/h[u][u],A=u;A<
k+1;A++)h[l][A]=u==A?0:h[l][A]+G*h[u][A]}u=Array(k);for(l=k-1;0<=l;l--)for(u[l]=h[l][k]/h[l][l],G=l-1;0<=G;G--)h[G][k]-=h[G][l]*u[l];h=u}h&&(m.save(),m.beginPath(),Wg?(u=(b+q+E)/3,l=(n+z+L)/3,k=Yg(u,l,b,n),q=Yg(u,l,q,z),E=Yg(u,l,E,L),m.moveTo(k[0],k[1]),m.lineTo(q[0],q[1]),m.lineTo(E[0],E[1])):(m.moveTo(b,n),m.lineTo(q,z),m.lineTo(E,L)),m.closePath(),m.clip(),m.transform(h[0],h[2],h[1],h[3],b,n),m.translate(r[0]-f,r[3]-c),m.scale(e/d,-e/d),m.drawImage(w.canvas,0,0),m.restore())});q&&(m.save(),m.strokeStyle=
"black",m.lineWidth=1,k.i.forEach(function(b){var c=b.target;b=(c[0][0]-x[0])/g;var d=-(c[0][1]-x[1])/g,e=(c[1][0]-x[0])/g,f=-(c[1][1]-x[1])/g,h=(c[2][0]-x[0])/g,c=-(c[2][1]-x[1])/g;m.beginPath();m.moveTo(b,d);m.lineTo(e,f);m.lineTo(h,c);m.closePath();m.stroke()}),m.restore());return m.canvas};function $g(b,c,d,e,f){this.c=b;this.h=c;var g={},h=ac(this.h,this.c);this.b=function(b){var c=b[0]+"/"+b[1];g[c]||(g[c]=h(b));return g[c]};this.f=e;this.l=f*f;this.i=[];this.D=!1;this.s=this.c.h&&!!e&&!!this.c.a()&&T(e)==T(this.c.a());this.a=this.c.a()?T(this.c.a()):null;this.g=this.h.a()?T(this.h.a()):null;b=[d[0],d[3]];c=[d[2],d[3]];e=[d[2],d[1]];d=Db(d);f=this.b(b);var k=this.b(c),l=this.b(e),n=this.b(d);ah(this,b,c,e,d,f,k,l,n,10);if(this.D){var q=Infinity;this.i.forEach(function(b){q=Math.min(q,
b.source[0][0],b.source[1][0],b.source[2][0])});this.i.forEach(function(b){if(Math.max(b.source[0][0],b.source[1][0],b.source[2][0])-q>this.a/2){var c=[[b.source[0][0],b.source[0][1]],[b.source[1][0],b.source[1][1]],[b.source[2][0],b.source[2][1]]];c[0][0]-q>this.a/2&&(c[0][0]-=this.a);c[1][0]-q>this.a/2&&(c[1][0]-=this.a);c[2][0]-q>this.a/2&&(c[2][0]-=this.a);Math.max(c[0][0],c[1][0],c[2][0])-Math.min(c[0][0],c[1][0],c[2][0])<this.a/2&&(b.source=c)}},this)}g={}}
function ah(b,c,d,e,f,g,h,k,l,n){var q=ub([g,h,k,l]),m=b.a?T(q)/b.a:null,r=b.c.h&&.5<m&&1>m,w=!1;if(0<n){if(b.h.i&&b.g)var u=ub([c,d,e,f]),w=w|.25<T(u)/b.g;!r&&b.c.i&&m&&(w|=.25<m)}if(w||!b.f||Hb(q,b.f)){if(!(w||isFinite(g[0])&&isFinite(g[1])&&isFinite(h[0])&&isFinite(h[1])&&isFinite(k[0])&&isFinite(k[1])&&isFinite(l[0])&&isFinite(l[1])))if(0<n)w=!0;else return;if(0<n&&(w||(m=b.b([(c[0]+e[0])/2,(c[1]+e[1])/2]),q=r?(Fa(g[0],b.a)+Fa(k[0],b.a))/2-Fa(m[0],b.a):(g[0]+k[0])/2-m[0],m=(g[1]+k[1])/2-m[1],
w=q*q+m*m>b.l),w)){Math.abs(c[0]-e[0])<=Math.abs(c[1]-e[1])?(r=[(d[0]+e[0])/2,(d[1]+e[1])/2],q=b.b(r),m=[(f[0]+c[0])/2,(f[1]+c[1])/2],w=b.b(m),ah(b,c,d,r,m,g,h,q,w,n-1),ah(b,m,r,e,f,w,q,k,l,n-1)):(r=[(c[0]+d[0])/2,(c[1]+d[1])/2],q=b.b(r),m=[(e[0]+f[0])/2,(e[1]+f[1])/2],w=b.b(m),ah(b,c,r,m,f,g,q,w,l,n-1),ah(b,r,d,e,m,q,h,k,w,n-1));return}if(r){if(!b.s)return;b.D=!0}b.i.push({source:[g,k,l],target:[c,e,f]});b.i.push({source:[g,h,k],target:[c,d,e]})}}
function bh(b){var c=vb();b.i.forEach(function(b){b=b.source;wb(c,b[0]);wb(c,b[1]);wb(c,b[2])});return c};function ch(b,c,d,e,f,g){this.v=c;this.u=b.a();var h=c.a(),k=h?Gb(d,h):d,h=Xg(b,c,Eb(k),e);this.s=new $g(b,c,k,this.u,.5*h);this.c=e;this.b=d;b=bh(this.s);this.j=(this.M=g(b,h,f))?this.M.f:1;this.ha=this.h=null;f=2;g=[];this.M&&(f=0,g=this.M.l());mf.call(this,d,e,this.j,f,g)}C(ch,mf);ch.prototype.C=function(){1==this.state&&(J(this.ha),this.ha=null);ch.I.C.call(this)};ch.prototype.g=function(){return this.h};
ch.prototype.ga=function(){var b=this.M.A();2==b&&(this.h=Zg(T(this.b)/this.c,Cb(this.b)/this.c,this.j,this.M.w(),0,this.c,this.b,this.s,[{extent:this.M.a(),image:this.M.g()}],0));this.state=b;nf(this)};ch.prototype.load=function(){if(0==this.state){this.state=1;nf(this);var b=this.M.A();2==b||3==b?this.ga():(this.ha=M(this.M,"change",function(){var b=this.M.A();if(2==b||3==b)J(this.ha),this.ha=null,this.ga()},this),this.M.load())}};function dh(b){vd.call(this,{attributions:b.attributions,extent:b.extent,logo:b.logo,projection:b.projection,state:b.state});this.o=void 0!==b.resolutions?b.resolutions:null;this.a=null;this.J=0}C(dh,vd);dh.prototype.da=function(){return this.o};
function eh(b,c,d,e,f){var g=b.b;if(g&&f&&!$b(g,f)){if(b.a){if(b.J==b.h&&$b(b.a.v,f)&&b.a.w()==d&&b.a.f==e&&zb(b.a.a(),c))return b.a;db(b.a);b.a=null}b.a=new ch(g,f,c,d,e,function(b,c,d){return fh(this,b,c,d,g)}.bind(b));b.J=b.h;return b.a}g&&(f=g);return fh(b,c,d,e,f)}dh.prototype.S=function(b){b=b.target;switch(b.A()){case 1:Q(this,new gh(hh,b));break;case 2:Q(this,new gh(ih,b));break;case 3:Q(this,new gh(jh,b))}};function kh(b,c){b.g().src=c}function gh(b,c){O.call(this,b);this.image=c}C(gh,O);
var hh="imageloadstart",ih="imageloadend",jh="imageloaderror";function lh(b){S.call(this);this.a="geometry";this.g=null;this.j=void 0;this.c=null;M(this,kb(this.a),this.f,this);void 0!==b&&(b instanceof cc||!b?this.set(this.a,b):ib(this,b))}C(lh,S);lh.prototype.clone=function(){var b=new lh(H({},this.s)),c=this.a;bb(b,kb(b.a),b.f,b);b.a=c;M(b,kb(b.a),b.f,b);b.f();if(c=this.b())c=c.clone(),b.set(b.a,c);if(c=this.g)b.g=c,b.j=c?mh(c):void 0,R(b);return b};lh.prototype.b=function(){return this.get(this.a)};lh.prototype.l=function(){R(this)};
lh.prototype.f=function(){this.c&&(J(this.c),this.c=null);var b=this.b();b&&(this.c=M(b,"change",this.l,this));R(this)};function mh(b){if("function"!=aa(b)){var c;c=Array.isArray(b)?b:[b];b=function(){return c}}return b};(function(){var b={kb:{}};(function(){function c(b,d){if(!(this instanceof c))return new c(b,d);this.ta=Math.max(4,b||9);this.Ha=Math.max(2,Math.ceil(.4*this.ta));d&&this.ib(d);this.clear()}function d(b,c){b.bbox=e(b,0,b.children.length,c)}function e(b,c,d,e){for(var g=[Infinity,Infinity,-Infinity,-Infinity],h;c<d;c++)h=b.children[c],f(g,b.G?e(h):h.bbox);return g}function f(b,c){b[0]=Math.min(b[0],c[0]);b[1]=Math.min(b[1],c[1]);b[2]=Math.max(b[2],c[2]);b[3]=Math.max(b[3],c[3])}function g(b,c){return b.bbox[0]-
c.bbox[0]}function h(b,c){return b.bbox[1]-c.bbox[1]}function k(b){return(b[2]-b[0])*(b[3]-b[1])}function l(b){return b[2]-b[0]+(b[3]-b[1])}function n(b,c){return b[0]<=c[0]&&b[1]<=c[1]&&c[2]<=b[2]&&c[3]<=b[3]}function q(b,c){return c[0]<=b[2]&&c[1]<=b[3]&&c[2]>=b[0]&&c[3]>=b[1]}function m(b,c,d,e,f){for(var g=[c,d],h;g.length;)d=g.pop(),c=g.pop(),d-c<=e||(h=c+Math.ceil((d-c)/e/2)*e,r(b,c,d,h,f),g.push(c,h,h,d))}function r(b,c,d,e,f){for(var g,h,k,l,m;d>c;){600<d-c&&(g=d-c+1,h=e-c+1,k=Math.log(g),
l=.5*Math.exp(2*k/3),m=.5*Math.sqrt(k*l*(g-l)/g)*(0>h-g/2?-1:1),k=Math.max(c,Math.floor(e-h*l/g+m)),h=Math.min(d,Math.floor(e+(g-h)*l/g+m)),r(b,k,h,e,f));g=b[e];h=c;l=d;w(b,c,e);for(0<f(b[d],g)&&w(b,c,d);h<l;){w(b,h,l);h++;for(l--;0>f(b[h],g);)h++;for(;0<f(b[l],g);)l--}0===f(b[c],g)?w(b,c,l):(l++,w(b,l,d));l<=e&&(c=l+1);e<=l&&(d=l-1)}}function w(b,c,d){var e=b[c];b[c]=b[d];b[d]=e}c.prototype={all:function(){return this.Da(this.data,[])},search:function(b){var c=this.data,d=[],e=this.K;if(!q(b,c.bbox))return d;
for(var f=[],g,h,k,l;c;){g=0;for(h=c.children.length;g<h;g++)k=c.children[g],l=c.G?e(k):k.bbox,q(b,l)&&(c.G?d.push(k):n(b,l)?this.Da(k,d):f.push(k));c=f.pop()}return d},load:function(b){if(!b||!b.length)return this;if(b.length<this.Ha){for(var c=0,d=b.length;c<d;c++)this.Db(b[c]);return this}b=this.Fa(b.slice(),0,b.length-1,0);this.data.children.length?this.data.height===b.height?this.Ia(this.data,b):(this.data.height<b.height&&(c=this.data,this.data=b,b=c),this.Ga(b,this.data.height-b.height-1,!0)):
this.data=b;return this},Db:function(b){b&&this.Ga(b,this.data.height-1);return this},clear:function(){this.data={children:[],height:1,bbox:[Infinity,Infinity,-Infinity,-Infinity],G:!0};return this},remove:function(b){if(!b)return this;for(var c=this.data,d=this.K(b),e=[],f=[],g,h,k,l;c||e.length;){c||(c=e.pop(),h=e[e.length-1],g=f.pop(),l=!0);if(c.G&&(k=c.children.indexOf(b),-1!==k)){c.children.splice(k,1);e.push(c);this.hb(e);break}l||c.G||!n(c.bbox,d)?h?(g++,c=h.children[g],l=!1):c=null:(e.push(c),
f.push(g),g=0,h=c,c=c.children[0])}return this},K:function(b){return b},va:function(b,c){return b[0]-c[0]},wa:function(b,c){return b[1]-c[1]},toJSON:function(){return this.data},Da:function(b,c){for(var d=[];b;)b.G?c.push.apply(c,b.children):d.push.apply(d,b.children),b=d.pop();return c},Fa:function(b,c,e,f){var g=e-c+1,h=this.ta,k;if(g<=h)return k={children:b.slice(c,e+1),height:1,bbox:null,G:!0},d(k,this.K),k;f||(f=Math.ceil(Math.log(g)/Math.log(h)),h=Math.ceil(g/Math.pow(h,f-1)));k={children:[],
height:f,bbox:null,G:!1};var g=Math.ceil(g/h),h=g*Math.ceil(Math.sqrt(h)),l,n,q;for(m(b,c,e,h,this.va);c<=e;c+=h)for(n=Math.min(c+h-1,e),m(b,c,n,g,this.wa),l=c;l<=n;l+=g)q=Math.min(l+g-1,n),k.children.push(this.Fa(b,l,q,f-1));d(k,this.K);return k},gb:function(b,c,d,e){for(var f,g,h,l,m,n,q,r;;){e.push(c);if(c.G||e.length-1===d)break;q=r=Infinity;f=0;for(g=c.children.length;f<g;f++)h=c.children[f],m=k(h.bbox),n=h.bbox,n=(Math.max(n[2],b[2])-Math.min(n[0],b[0]))*(Math.max(n[3],b[3])-Math.min(n[1],b[1]))-
m,n<r?(r=n,q=m<q?m:q,l=h):n===r&&m<q&&(q=m,l=h);c=l}return c},Ga:function(b,c,d){var e=this.K;d=d?b.bbox:e(b);var e=[],g=this.gb(d,this.data,c,e);g.children.push(b);for(f(g.bbox,d);0<=c;)if(e[c].children.length>this.ta)this.jb(e,c),c--;else break;this.cb(d,e,c)},jb:function(b,c){var e=b[c],f=e.children.length,g=this.Ha;this.eb(e,g,f);f=this.fb(e,g,f);f={children:e.children.splice(f,e.children.length-f),height:e.height,bbox:null,G:!1};e.G&&(f.G=!0);d(e,this.K);d(f,this.K);c?b[c-1].children.push(f):
this.Ia(e,f)},Ia:function(b,c){this.data={children:[b,c],height:b.height+1,bbox:null,G:!1};d(this.data,this.K)},fb:function(b,c,d){var f,g,h,l,m,n,q;m=n=Infinity;for(f=c;f<=d-c;f++)g=e(b,0,f,this.K),h=e(b,f,d,this.K),l=Math.max(0,Math.min(g[2],h[2])-Math.max(g[0],h[0]))*Math.max(0,Math.min(g[3],h[3])-Math.max(g[1],h[1])),g=k(g)+k(h),l<m?(m=l,q=f,n=g<n?g:n):l===m&&g<n&&(n=g,q=f);return q},eb:function(b,c,d){var e=b.G?this.va:g,f=b.G?this.wa:h,k=this.Ea(b,c,d,e);c=this.Ea(b,c,d,f);k<c&&b.children.sort(e)},
Ea:function(b,c,d,g){b.children.sort(g);g=this.K;var h=e(b,0,c,g),k=e(b,d-c,d,g),m=l(h)+l(k),n,q;for(n=c;n<d-c;n++)q=b.children[n],f(h,b.G?g(q):q.bbox),m+=l(h);for(n=d-c-1;n>=c;n--)q=b.children[n],f(k,b.G?g(q):q.bbox),m+=l(k);return m},cb:function(b,c,d){for(;0<=d;d--)f(c[d].bbox,b)},hb:function(b){for(var c=b.length-1,e;0<=c;c--)0===b[c].children.length?0<c?(e=b[c-1].children,e.splice(e.indexOf(b[c]),1)):this.clear():d(b[c],this.K)},ib:function(b){var c=["return a"," - b",";"];this.va=new Function("a",
"b",c.join(b[0]));this.wa=new Function("a","b",c.join(b[1]));this.K=new Function("a","return [a"+b.join(", a")+"];")}};"undefined"!==typeof b?b.kb=c:"undefined"!==typeof self?self.a=c:window.a=c})()})();function nh(b){Tg.call(this,b);this.a=null;this.c=sb()}C(nh,Tg);
nh.prototype.g=function(b,c){var d=b.pixelRatio,e=b.viewState,f=e.center,g=e.resolution,h=this.b.U(),k=b.viewHints,l=b.extent;void 0!==c.extent&&(l=Gb(l,c.extent));if(!k[0]&&!k[1]&&!Bb(l)){if(k=e=eh(h,l,g,d,e.projection))k=e,l=k.A(),2!=l&&3!=l&&M(k,"change",this.l,this),0==l&&(k.load(),l=k.A()),k=2==l;k&&(this.a=e)}if(this.a){var e=this.a,k=e.a(),l=e.w(),n=e.f,g=d*l/(g*n);of(this.c,d*b.size[0]/2,d*b.size[1]/2,g,g,0,n*(k[0]-f[0])/l,n*(f[1]-k[3])/l);d=b.attributions;if(f=e.l())for(e=0,k=f.length;e<
k;++e)g=f[e],d[v(g).toString()]=g;tf(b,h)}return!!this.a};function oh(b){Tg.call(this,b);this.o=ge();this.s=null;this.v=vb();this.u=sb()}C(oh,Tg);
oh.prototype.f=function(b,c,d){var e=b.pixelRatio,f=b.viewState,g=f.center,h=f.projection,k=f.rotation,l=b.size,n=Math.round(e*l[0]/2),q=Math.round(e*l[1]/2),m=e/f.resolution,r=this.b,w=r.U(),u=w.Oa(h),f=Vg(this,b);Ug(this,"precompose",d,b,f);var l=d,r=fb(r,"render"),x,y,I,D;if(k||r){l=this.o;x=l.canvas;I=w.ka(e)/e;var K=d.canvas.width*I;y=d.canvas.height*I;D=Math.round(Math.sqrt(K*K+y*y));x.width!=D?x.width=x.height=D:l.clearRect(0,0,D,D);x=(D-K)/2/I;y=(D-y)/2/I;m*=I;n=Math.round(I*(n+x));q=Math.round(I*
(q+y))}K=l.globalAlpha;l.globalAlpha=c.opacity;var N=w.P(h),U=this.s,V;c=w.za(h)&&1==c.opacity;c||(U.reverse(),V=[]);for(var Z=0,na=U.length;Z<na;++Z){var z=U[Z],E=z.N,L=Bd(N,E,this.v),G=E[0],A=Db(Bd(N,Jd(N,g,G))),E=Math.round(T(L)*m),da=Math.round(Cb(L)*m),Da=Math.round((L[0]-A[0])*m/E)*E+n+Math.round((A[0]-g[0])*m),L=Math.round((A[1]-L[3])*m/da)*da+q+Math.round((g[1]-A[1])*m);if(!c){A=[Da,L,Da+E,L+da];l.save();for(var oa=0,ja=V.length;oa<ja;++oa){var F=V[oa];Hb(A,F)&&(l.beginPath(),l.moveTo(A[0],
A[1]),l.lineTo(A[0],A[3]),l.lineTo(A[2],A[3]),l.lineTo(A[2],A[1]),l.moveTo(F[0],F[1]),l.lineTo(F[2],F[1]),l.lineTo(F[2],F[3]),l.lineTo(F[0],F[3]),l.closePath(),l.clip())}V.push(A)}A=w;ja=e;oa=A.P(h);ja=A.ka(ja);G=nb(Hd(oa,G),A.g);G=1==ja?G:mb(G,ja,A.g);l.drawImage(z.oa(),u,u,G[0],G[1],Da,L,E,da);c||l.restore()}r&&(e=x-n/I+n,h=y-q/I+q,g=of(this.u,D/2-e,D/2-h,m,-m,-k,-g[0]+e/m,-g[1]-h/m),Ug(this,"render",l,b,g));(k||r)&&d.drawImage(l.canvas,-Math.round(x),-Math.round(y),D/I,D/I);l.globalAlpha=K;Ug(this,
"postcompose",d,b,f)};
oh.prototype.g=function(b,c){function d(b){b=b.A();return 2==b||4==b||3==b&&!w}var e=b.pixelRatio,f=b.viewState,g=f.projection,h=this.b,k=h.U(),l=k.P(g),n=Id(l,f.resolution),q=l.w(n),m=f.center;q==f.resolution?(m=vf(m,q,b.size),f=Fb(m,q,f.rotation,b.size)):f=b.extent;void 0!==c.extent&&(f=Gb(f,c.extent));if(Bb(f))return!1;q=Ed(l,f,q);m={};m[n]={};var r=rf(k,g,m),w=h.get("useInterimTilesOnError"),u=vb(),x=new tc(0,0,0,0),y,I,D,K;for(D=q.b;D<=q.a;++D)for(K=q.i;K<=q.c;++K)y=xf(k,n,D,K,e,g),!d(y)&&y.a&&
(y=y.a),d(y)?m[n][y.N.toString()]=y:(I=Ad(l,y.N,r,x,u),I||(y=Dd(l,y.N,x,u))&&r(n+1,y));r=Object.keys(m).map(Number);r.sort(Ia);var u=[],N,x=0;for(D=r.length;x<D;++x)for(N in y=r[x],K=m[y],K)y=K[N],2==y.A()&&u.push(y);this.s=u;uf(b.usedTiles,k,n,q);wf(b,k,l,e,g,f,n,h.get("preload"));sf(b,k);tf(b,k);return!0};function ph(b,c){var d=/\{z\}/g,e=/\{x\}/g,f=/\{y\}/g,g=/\{-y\}/g;return function(h){if(h)return b.replace(d,h[0].toString()).replace(e,h[1].toString()).replace(f,function(){return(-h[2]-1).toString()}).replace(g,function(){var b=c.c?c.c[h[0]]:null;return(b.c-b.i+1+h[2]).toString()})}}function qh(b,c){for(var d=b.length,e=Array(d),f=0;f<d;++f)e[f]=ph(b[f],c);return rh(e)}function rh(b){return 1===b.length?b[0]:function(c,d,e){if(c)return b[Fa((c[1]<<c[0])+c[2],b.length)](c,d,e)}}function sh(){};function th(b){Nd.call(this,{attributions:b.attributions,cacheSize:b.cacheSize,extent:b.extent,logo:b.logo,opaque:b.opaque,projection:b.projection,state:b.state,tileGrid:b.tileGrid,tilePixelRatio:b.tilePixelRatio,wrapX:b.wrapX});this.tileLoadFunction=b.tileLoadFunction;this.tileUrlFunction=this.Y?this.Y.bind(this):sh;this.urls=null;if(b.urls){var c=b.urls;this.urls=c;uh(this,this.Y?this.Y.bind(this):qh(c,this.tileGrid))}else if(b.url){var c=b.url,d=[],e=/\{(\d)-(\d)\}/.exec(c)||/\{([a-z])-([a-z])\}/.exec(c);
if(e){var f=e[2].charCodeAt(0),g;for(g=e[1].charCodeAt(0);g<=f;++g)d.push(c.replace(e[0],String.fromCharCode(g)))}else d.push(c);c=this.urls=d;uh(this,this.Y?this.Y.bind(this):qh(c,this.tileGrid))}b.tileUrlFunction&&uh(this,b.tileUrlFunction)}C(th,Nd);th.prototype.S=function(b){b=b.target;switch(b.A()){case 1:Q(this,new Qd("tileloadstart",b));break;case 2:Q(this,new Qd("tileloadend",b));break;case 3:Q(this,new Qd("tileloaderror",b))}};function uh(b,c){b.a.clear();b.tileUrlFunction=c;R(b)}
th.prototype.Wa=function(b,c,d){b=this.$(b,c,d);this.a.c.hasOwnProperty(b)&&this.a.get(b)};function vh(b,c){zf.call(this,0,c);this.h=ge();ge();this.a=this.h.canvas;this.a.style.width="100%";this.a.style.height="100%";this.a.className="ol-unselectable";b.insertBefore(this.a,b.childNodes[0]||null);this.c=!0;this.s=sb()}C(vh,zf);function wh(b,c,d){var e=b.f,f=b.h;if(fb(e,c)){var g=d.pixelRatio,h=d.viewState,k=h.resolution;of(b.s,b.a.width/2,b.a.height/2,g/k,-g/k,-h.rotation,-h.center[0],-h.center[1]);b=new Sg;Q(e,new kf(c,e,b,d,f,null))}}
vh.prototype.g=function(b){if(b){var c=this.h,d=b.pixelRatio,e=Math.round(b.size[0]*d),d=Math.round(b.size[1]*d);this.a.width!=e||this.a.height!=d?(this.a.width=e,this.a.height=d):c.clearRect(0,0,e,d);var f=b.viewState.rotation,g=b.viewState,h=b.coordinateToPixelMatrix;of(h,b.size[0]/2,b.size[1]/2,1/g.resolution,-1/g.resolution,-g.rotation,-g.center[0],-g.center[1]);var g=b.pixelToCoordinateMatrix,k=h[0],l=h[1],n=h[2],q=h[3],m=h[4],r=h[5],w=h[6],u=h[7],x=h[8],y=h[9],I=h[10],D=h[11],K=h[12],N=h[13],
U=h[14],h=h[15],V=k*r-l*m,Z=k*w-n*m,na=k*u-q*m,z=l*w-n*r,E=l*u-q*r,L=n*u-q*w,G=x*N-y*K,A=x*U-I*K,da=x*h-D*K,Da=y*U-I*N,oa=y*h-D*N,ja=I*h-D*U,F=V*ja-Z*oa+na*Da+z*da-E*A+L*G;0!=F&&(F=1/F,g[0]=(r*ja-w*oa+u*Da)*F,g[1]=(-l*ja+n*oa-q*Da)*F,g[2]=(N*L-U*E+h*z)*F,g[3]=(-y*L+I*E-D*z)*F,g[4]=(-m*ja+w*da-u*A)*F,g[5]=(k*ja-n*da+q*A)*F,g[6]=(-K*L+U*na-h*Z)*F,g[7]=(x*L-I*na+D*Z)*F,g[8]=(m*oa-r*da+u*G)*F,g[9]=(-k*oa+l*da-q*G)*F,g[10]=(K*E-N*na+h*V)*F,g[11]=(-x*E+y*na-D*V)*F,g[12]=(-m*Da+r*A-w*G)*F,g[13]=(k*Da-l*
A+n*G)*F,g[14]=(-K*z+N*Z-U*V)*F,g[15]=(x*z-y*Z+I*V)*F);wh(this,"precompose",b);g=b.layerStatesArray;La(g);Rg(c,f,e/2,d/2);k=b.viewState.resolution;l=0;for(n=g.length;l<n;++l)q=g[l],m=q.layer,r=m,m=v(r).toString(),m in this.b?m=this.b[m]:(r=r instanceof Pg?new nh(r):r instanceof Qg?new oh(r):null,this.b[m]=r,this.i[m]=M(r,"change",this.D,this),m=r),q.visible&&k>=q.minResolution&&k<q.maxResolution&&"ready"==q.qc&&m.g(b,q)&&m.f(b,q,c);Rg(c,-f,e/2,d/2);wh(this,"postcompose",b);this.c||(id(this.a,!0),
this.c=!0);for(var Vh in this.b)if(!(Vh in b.layerStates)){b.postRenderFunctions.push(this.l.bind(this));break}b.postRenderFunctions.push(Af)}else this.c&&(id(this.a,!1),this.c=!1)};var xh=["canvas","webgl","dom"];
function yh(b){S.call(this);var c=zh(b);this.Xa=void 0!==b.loadTilesWhileAnimating?b.loadTilesWhileAnimating:!1;this.Ya=void 0!==b.loadTilesWhileInteracting?b.loadTilesWhileInteracting:!1;this.$a=void 0!==b.pixelRatio?b.pixelRatio:le;this.Za=c.logos;this.qa=function(){this.f=void 0;this.oc.call(this,Date.now())}.bind(this);this.ra=sb();this.ab=sb();this.sa=0;this.c=null;this.W=vb();this.j=this.F=null;this.a=document.createElement("DIV");this.a.className="ol-viewport"+(oe?" ol-touch":"");this.a.style.position=
"relative";this.a.style.overflow="hidden";this.a.style.width="100%";this.a.style.height="100%";this.a.style.msTouchAction="none";this.a.style.a="none";this.u=document.createElement("DIV");this.u.className="ol-overlaycontainer";this.a.appendChild(this.u);this.o=document.createElement("DIV");this.o.className="ol-overlaycontainer-stopevent";b=["click","dblclick","mousedown","touchstart","mspointerdown",cf,"mousewheel","wheel"];for(var d=0,e=b.length;d<e;++d)M(this.o,b[d],eb);this.a.appendChild(this.o);
this.V=new Ve(this);for(var f in ff)M(this.V,ff[f],this.Qa,this);this.S=c.keyboardEventTarget;this.g=null;M(this.a,"wheel",this.aa,this);M(this.a,"mousewheel",this.aa,this);this.H=c.controls;this.l=c.interactions;this.L=c.overlays;this.X=new c.pc(this.a,this);this.J=null;this.v=[];this.T=[];this.ja=new Ef(this.lb.bind(this),this.zb.bind(this));this.bb={};M(this,kb("layergroup"),this.nb,this);M(this,kb("view"),this.Bb,this);M(this,kb("size"),this.wb,this);M(this,kb("target"),this.yb,this);ib(this,
c.values);this.H.fa(function(b){b.setMap(this)},this);M(this.H,"add",function(b){b.element.setMap(this)},this);M(this.H,"remove",function(b){b.element.setMap(null)},this);this.l.fa(function(b){b.setMap(this)},this);M(this.l,"add",function(b){b.element.setMap(this)},this);M(this.l,"remove",function(b){b.element.setMap(null)},this);this.L.fa(this.Ja,this);M(this.L,"add",function(b){this.Ja(b.element)},this);M(this.L,"remove",function(b){b.element.setMap(null)},this)}C(yh,S);p=yh.prototype;p.Ja=function(b){b.setMap(this)};
p.O=function(b){this.render();Array.prototype.push.apply(this.v,arguments)};p.C=function(){db(this.V);db(this.X);bb(this.a,"wheel",this.aa,this);bb(this.a,"mousewheel",this.aa,this);void 0!==this.b&&(t.removeEventListener("resize",this.b,!1),this.b=void 0);this.f&&(t.cancelAnimationFrame(this.f),this.f=void 0);this.set("target",null);yh.I.C.call(this)};function $d(b,c){var d=b.a.getBoundingClientRect(),e=c.changedTouches?c.changedTouches[0]:c;return[e.clientX-d.left,e.clientY-d.top]}
function Ah(b){b=b.get("target");return void 0!==b?Yc(b):null}p.Z=function(b){var c=this.c;return c?(b=b.slice(),pf(c.pixelToCoordinateMatrix,b,b)):null};p.Zb=function(){return this.get("layergroup").get("layers")};function $f(b,c){var d=b.c;if(d){var e=c.slice(0,2);return pf(d.coordinateToPixelMatrix,e,e)}return null}p.na=function(){return this.get("size")};p.B=function(){return this.get("view")};
p.lb=function(b,c,d,e){var f=this.c;if(!(f&&c in f.wantedTiles&&f.wantedTiles[c][b.N.toString()]))return Infinity;b=d[0]-f.focus[0];d=d[1]-f.focus[1];return 65536*Math.log(e)+Math.sqrt(b*b+d*d)/e};p.aa=function(b,c){var d=new Te(c||b.type,this,b);this.Qa(d)};p.Qa=function(b){if(this.c){this.J=b.coordinate;b.frameState=this.c;var c=this.l.a,d;if(!1!==Q(this,b))for(d=c.length-1;0<=d;d--){var e=c[d];if(e.get("active")&&!e.handleEvent(b))break}}};
p.vb=function(){var b=this.c,c=this.ja;if(0!==c.a.length){var d=16,e=d;if(b){var f=b.viewHints;f[0]&&(d=this.Xa?8:0,e=2);f[1]&&(d=this.Ya?8:0,e=2)}if(c.h<d){var f=c.s,g=c.a,h=c.b,k=0,l=g.length,n,q,m;for(q=0;q<l;++q)n=g[q],m=f(n),Infinity==m?delete c.c[c.f(n)]:(h[k]=m,g[k++]=n);g.length=k;h.length=k;for(f=(c.a.length>>1)-1;0<=f;f--)Df(c,f);for(f=0;c.h<d&&f<e&&0<c.a.length;)g=c,k=g.a,l=g.b,h=k[0],1==k.length?(k.length=0,l.length=0):(k[0]=k.pop(),l[0]=l.pop(),Df(g,0)),k=g.f(h),delete g.c[k],g=h[0],
h=g.getKey(),0!==g.A()||h in c.i||(c.i[h]=!0,++c.h,++f,g.load())}}c=this.T;e=0;for(d=c.length;e<d;++e)c[e](this,b);c.length=0};p.wb=function(){this.render()};
p.yb=function(){var b;this.get("target")&&(b=Ah(this));if(this.g){for(var c=0,d=this.g.length;c<d;++c)J(this.g[c]);this.g=null}b?(b.appendChild(this.a),b=this.S?this.S:b,this.g=[M(b,"keydown",this.aa,this),M(b,"keypress",this.aa,this)],this.b||(this.b=this.Ba.bind(this),t.addEventListener("resize",this.b,!1))):(dd(this.a),void 0!==this.b&&(t.removeEventListener("resize",this.b,!1),this.b=void 0));this.Ba()};p.zb=function(){this.render()};p.Cb=function(){this.render()};
p.Bb=function(){this.F&&(J(this.F),this.F=null);var b=this.B();b&&(this.F=M(b,"propertychange",this.Cb,this));this.render()};p.ob=function(){this.render()};p.pb=function(){this.render()};p.nb=function(){this.j&&(this.j.forEach(J),this.j=null);var b=this.get("layergroup");b&&(this.j=[M(b,"propertychange",this.pb,this),M(b,"change",this.ob,this)]);this.render()};p.render=function(){void 0===this.f&&(this.f=t.requestAnimationFrame(this.qa))};
p.oc=function(b){var c,d,e,f=this.na(),g=this.B(),h=null;if(c=void 0!==f&&0<f[0]&&0<f[1]&&g)c=!!jc(g)&&void 0!==g.w();if(c){var h=g.b.slice(),k=this.get("layergroup").ya(),l={};c=0;for(d=k.length;c<d;++c)l[v(k[c].layer)]=k[c];e=g.A();h={animate:!1,attributions:{},coordinateToPixelMatrix:this.ra,extent:null,focus:this.J?this.J:e.center,index:this.sa++,layerStates:l,layerStatesArray:k,logos:H({},this.Za),pixelRatio:this.$a,pixelToCoordinateMatrix:this.ab,postRenderFunctions:[],size:f,skippedFeatureUids:this.bb,
tileQueue:this.ja,time:b,usedTiles:{},viewState:e,viewHints:h,wantedTiles:{}}}if(h){b=this.v;c=f=0;for(d=b.length;c<d;++c)g=b[c],g(this,h)&&(b[f++]=g);b.length=f;h.extent=Fb(e.center,e.resolution,e.rotation,h.size)}this.c=h;this.X.g(h);h&&(h.animate&&this.render(),Array.prototype.push.apply(this.T,h.postRenderFunctions),0===this.v.length&&!h.viewHints[0]&&!h.viewHints[1]&&!zb(h.extent,this.W)&&(Q(this,new nd("moveend",this,h)),e=h.extent,c=this.W))&&(c[0]=e[0],c[1]=e[1],c[2]=e[2],c[3]=e[3]);Q(this,
new nd("postrender",this,h));c=e=this.vb;this&&(c=la(e,this));"function"!=aa(t.setImmediate)||t.Window&&t.Window.prototype&&!X("Edge")&&t.Window.prototype.setImmediate==t.setImmediate?(ae||(ae=be()),ae(c)):t.setImmediate(c)};
p.Ba=function(){var b=Ah(this);if(b){var c=9==b.nodeType?b:b.ownerDocument||b.document,d=Kc&&b.currentStyle,e;if(e=d)c||qa||(qa=new fd),e=!0;if(e&&"auto"!=d.width&&"auto"!=d.height&&!d.boxSizing)c=jd(b,d.width,"width","pixelWidth"),b=jd(b,d.height,"height","pixelHeight"),b=new Xc(c,b);else{d=new Xc(b.offsetWidth,b.offsetHeight);if(Kc){c=kd(b,"paddingLeft");e=kd(b,"paddingRight");var f=kd(b,"paddingTop"),g=kd(b,"paddingBottom"),c=new gd(f,e,g,c)}else c=hd(b,"paddingLeft"),e=hd(b,"paddingRight"),f=
hd(b,"paddingTop"),g=hd(b,"paddingBottom"),c=new gd(parseFloat(f),parseFloat(e),parseFloat(g),parseFloat(c));!Kc||9<=Number(Vc)?(e=hd(b,"borderLeftWidth"),f=hd(b,"borderRightWidth"),g=hd(b,"borderTopWidth"),b=hd(b,"borderBottomWidth"),b=new gd(parseFloat(g),parseFloat(f),parseFloat(b),parseFloat(e))):(e=md(b,"borderLeft"),f=md(b,"borderRight"),g=md(b,"borderTop"),b=md(b,"borderBottom"),b=new gd(g,f,b,e));b=new Xc(d.width-b.left-c.left-c.right-b.right,d.height-b.top-c.top-c.bottom-b.bottom)}this.set("size",
[b.width,b.height])}else this.set("size",void 0)};
function zh(b){var c=null;void 0!==b.keyboardEventTarget&&(c="string"===typeof b.keyboardEventTarget?document.getElementById(b.keyboardEventTarget):b.keyboardEventTarget);var d={},e={};if(void 0===b.logo||"boolean"===typeof b.logo&&b.logo)e["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]="http://openlayers.org/";
else{var f=b.logo;"string"===typeof f?e[f]="":fa(f)&&(e[f.src]=f.href)}f=b.layers instanceof Cg?b.layers:new Cg({layers:b.layers});d.layergroup=f;d.target=b.target;d.view=void 0!==b.view?b.view:new ic;var f=zf,g;void 0!==b.renderer?Array.isArray(b.renderer)?g=b.renderer:"string"===typeof b.renderer&&(g=[b.renderer]):g=xh;var h,k;h=0;for(k=g.length;h<k;++h)if("canvas"==g[h]&&me){f=vh;break}var l;void 0!==b.controls?l=Array.isArray(b.controls)?new W(b.controls.slice()):b.controls:l=Wd();if(void 0!==
b.interactions)g=Array.isArray(b.interactions)?new W(b.interactions.slice()):b.interactions;else{g={};h=new W;k=new Ff;(void 0!==g.altShiftDragRotate?g.altShiftDragRotate:1)&&h.push(new ag);(void 0!==g.doubleClickZoom?g.doubleClickZoom:1)&&h.push(new Lf({delta:g.zoomDelta,duration:g.zoomDuration}));(void 0!==g.dragPan?g.dragPan:1)&&h.push(new Wf({kinetic:k}));(void 0!==g.pinchRotate?g.pinchRotate:1)&&h.push(new ug);(void 0!==g.pinchZoom?g.pinchZoom:1)&&h.push(new yg({duration:g.zoomDuration}));if(void 0!==
g.keyboard?g.keyboard:1)h.push(new og),h.push(new qg({delta:g.zoomDelta,duration:g.zoomDuration}));(void 0!==g.mouseWheelZoom?g.mouseWheelZoom:1)&&h.push(new sg({duration:g.zoomDuration}));(void 0!==g.shiftDragZoom?g.shiftDragZoom:1)&&h.push(new ng({duration:g.zoomDuration}));g=h}b=void 0!==b.overlays?Array.isArray(b.overlays)?new W(b.overlays.slice()):b.overlays:new W;return{controls:l,interactions:g,keyboardEventTarget:c,logos:e,overlays:b,pc:f,values:d}}Ub(Hg);Ub(Og);
Og.forEach(function(b){Hg.forEach(function(c){Wb(b,c,Ig);Wb(c,b,Jg)})});function Bh(b){if(b[1]){var c=b[0],d=c.indexOf("#");0<=d&&(b.push(c.substr(d)),b[0]=c=c.substr(0,d));d=c.indexOf("?");0>d?b[1]="?":d==c.length-1&&(b[1]=void 0)}return b.join("")}function Ch(b,c,d){if("array"==aa(c))for(var e=0;e<c.length;e++)Ch(b,String(c[e]),d);else null!=c&&d.push("&",b,""===c?"":"=",encodeURIComponent(String(c)))}function Dh(b,c){for(var d in c)Ch(d,c[d],b);return b};function Eh(b){S.call(this);b=b||{};this.a=null;this.c=bc;this.b=void 0;M(this,kb("projection"),this.Wb,this);M(this,kb("tracking"),this.Ab,this);if(void 0!==b.projection){var c=Rb(b.projection);this.set("projection",c)}void 0!==b.trackingOptions&&this.set("trackingOptions",b.trackingOptions);this.set("tracking",void 0!==b.tracking?b.tracking:!1)}C(Eh,S);p=Eh.prototype;p.C=function(){this.set("tracking",!1);Eh.I.C.call(this)};
p.Wb=function(){var b=this.get("projection");b&&(this.c=Qb(Rb("EPSG:4326"),b),this.a&&this.set("position",this.c(this.a)))};p.Ab=function(){if(ne){var b=this.get("tracking");b&&void 0===this.b?this.b=t.navigator.geolocation.watchPosition(this.kc.bind(this),this.lc.bind(this),this.get("trackingOptions")):b||void 0===this.b||(t.navigator.geolocation.clearWatch(this.b),this.b=void 0)}};
p.kc=function(b){b=b.coords;this.set("accuracy",b.accuracy);this.set("altitude",null===b.altitude?void 0:b.altitude);this.set("altitudeAccuracy",null===b.altitudeAccuracy?void 0:b.altitudeAccuracy);this.set("heading",null===b.heading?void 0:b.heading*Math.PI/180);this.a?(this.a[0]=b.longitude,this.a[1]=b.latitude):this.a=[b.longitude,b.latitude];var c=this.c(this.a);this.set("position",c);this.set("speed",null===b.speed?void 0:b.speed);var c=this.a,d=b.accuracy;b=[];var e;for(e=0;32>e;++e)for(var f=
b,g=Kg.offset(c,d,2*Math.PI*e/32),h=void 0,g=ba(g)?g:[g],k=g.length,h=0;h<k;h++)f[f.length]=g[h];b.push(b[0],b[1]);c=new gc(null);d=[b.length];fc(c,"XY",b);c.f=d;R(c);c.b&&((0,this.c)(c.b,c.b,c.c),R(c));this.set("accuracyGeometry",c);R(this)};p.lc=function(b){b.type="error";this.set("tracking",!1);Q(this,b)};function Fh(b,c,d,e,f,g,h){mf.call(this,b,c,d,0,e);this.j=f;this.b=new Image;null!==g&&(this.b.crossOrigin=g);this.h={};this.c=null;this.state=0;this.s=h}C(Fh,mf);Fh.prototype.g=function(b){if(void 0!==b){var c;b=v(b);if(b in this.h)return this.h[b];Va(this.h)?c=this.b:c=this.b.cloneNode(!1);return this.h[b]=c}return this.b};Fh.prototype.u=function(){this.state=3;this.c.forEach(J);this.c=null;nf(this)};
Fh.prototype.v=function(){void 0===this.resolution&&(this.resolution=Cb(this.extent)/this.b.height);this.state=2;this.c.forEach(J);this.c=null;nf(this)};Fh.prototype.load=function(){0==this.state&&(this.state=1,nf(this),this.c=[M(this.b,"error",this.u,this,!0),M(this.b,"load",this.v,this,!0)],this.s(this,this.j))};function Gh(b,c,d,e,f){td.call(this,b,c);this.f=d;this.b=new Image;null!==e&&(this.b.crossOrigin=e);this.c={};this.h=null;this.g=f}C(Gh,td);p=Gh.prototype;p.C=function(){1==this.state&&Hh(this);this.a&&db(this.a);this.state=5;ud(this);Gh.I.C.call(this)};p.oa=function(b){if(void 0!==b){var c=v(b);if(c in this.c)return this.c[c];b=Va(this.c)?this.b:this.b.cloneNode(!1);return this.c[c]=b}return this.b};p.getKey=function(){return this.f};p.Xb=function(){this.state=3;Hh(this);ud(this)};
p.Yb=function(){this.state=this.b.naturalWidth&&this.b.naturalHeight?2:4;Hh(this);ud(this)};p.load=function(){0==this.state&&(this.state=1,ud(this),this.h=[M(this.b,"error",this.Xb,this,!0),M(this.b,"load",this.Yb,this,!0)],this.g(this,this.f))};function Hh(b){b.h.forEach(J);b.h=null};function Ih(b,c,d,e,f,g,h,k,l,n,q){td.call(this,f,0);this.v=void 0!==q?q:!1;this.u=h;this.o=k;this.h=null;this.c={};this.f=c;this.s=e;this.l=g?g:f;this.b=[];this.ca=null;this.g=0;g=Bd(e,this.l);k=this.s.a();f=this.f.a();g=k?Gb(g,k):g;if(0===Ab(g))this.state=4;else if((k=b.a())&&(f?f=Gb(f,k):f=k),e=e.w(this.l[0]),e=Xg(b,d,Eb(g),e),!isFinite(e)||0>=e)this.state=4;else if(this.j=new $g(b,d,g,f,e*(void 0!==n?n:.5)),0===this.j.i.length)this.state=4;else if(this.g=Id(c,e),d=bh(this.j),f&&(b.h?(d[1]=Ca(d[1],
f[1],f[3]),d[3]=Ca(d[3],f[1],f[3])):d=Gb(d,f)),Ab(d))if(b=Cd(c,d,this.g),100>b.la()*(b.c-b.i+1)){for(c=b.b;c<=b.a;c++)for(d=b.i;d<=b.c;d++)(n=l(this.g,c,d,h))&&this.b.push(n);0===this.b.length&&(this.state=4)}else this.state=3;else this.state=4}C(Ih,td);Ih.prototype.C=function(){1==this.state&&(this.ca.forEach(J),this.ca=null);Ih.I.C.call(this)};Ih.prototype.oa=function(b){if(void 0!==b){var c=v(b);if(c in this.c)return this.c[c];b=Va(this.c)?this.h:this.h.cloneNode(!1);return this.c[c]=b}return this.h};
Ih.prototype.ga=function(){var b=[];this.b.forEach(function(c){c&&2==c.A()&&b.push({extent:Bd(this.f,c.N),image:c.oa()})},this);this.b.length=0;if(0===b.length)this.state=3;else{var c=this.l[0],d=Hd(this.s,c),e=ea(d)?d:d[0],d=ea(d)?d:d[1],c=this.s.w(c),f=this.f.w(this.g),g=Bd(this.s,this.l);this.h=Zg(e,d,this.u,f,this.f.a(),c,g,this.j,b,this.o,this.v);this.state=2}ud(this)};
Ih.prototype.load=function(){if(0==this.state){this.state=1;ud(this);var b=0;this.ca=[];this.b.forEach(function(c){var d=c.A();if(0==d||1==d){b++;var e;e=M(c,"change",function(){var d=c.A();if(2==d||3==d||4==d)J(e),b--,0===b&&(this.ca.forEach(J),this.ca=null,this.ga())},this);this.ca.push(e)}},this);this.b.forEach(function(b){0==b.A()&&b.load()});0===b&&t.setTimeout(this.ga.bind(this),0)}};function Jh(b){th.call(this,{attributions:b.attributions,cacheSize:b.cacheSize,extent:b.extent,logo:b.logo,opaque:b.opaque,projection:b.projection,state:b.state,tileGrid:b.tileGrid,tileLoadFunction:b.tileLoadFunction?b.tileLoadFunction:Kh,tilePixelRatio:b.tilePixelRatio,tileUrlFunction:b.tileUrlFunction,url:b.url,urls:b.urls,wrapX:b.wrapX});this.crossOrigin=void 0!==b.crossOrigin?b.crossOrigin:null;this.tileClass=void 0!==b.tileClass?b.tileClass:Gh;this.f={};this.v={};this.W=b.reprojectionErrorThreshold}
C(Jh,th);p=Jh.prototype;p.Sa=function(){if(rd(this.a))return!0;for(var b in this.f)if(rd(this.f[b]))return!0;return!1};p.Ta=function(b,c){var d=this.ea(b);sd(this.a,this.a==d?c:{});for(var e in this.f){var f=this.f[e];sd(f,f==d?c:{})}};p.Oa=function(b){return this.b&&b&&!$b(this.b,b)?0:this.xa()};p.xa=function(){return 0};p.za=function(b){return this.b&&b&&!$b(this.b,b)?!1:Jh.I.za.call(this,b)};
p.P=function(b){var c=this.b;return!this.tileGrid||c&&!$b(c,b)?(c=v(b).toString(),c in this.v||(this.v[c]=Kd(b)),this.v[c]):this.tileGrid};p.ea=function(b){var c=this.b;if(!c||$b(c,b))return this.a;b=v(b).toString();b in this.f||(this.f[b]=new qd);return this.f[b]};function Lh(b,c,d,e,f,g,h){c=[c,d,e];f=(d=Pd(b,c,g))?b.tileUrlFunction(d,f,g):void 0;f=new b.tileClass(c,void 0!==f?0:4,void 0!==f?f:"",b.crossOrigin,b.tileLoadFunction);f.key=h;M(f,"change",b.S,b);return f}
function xf(b,c,d,e,f,g){if(b.b&&g&&!$b(b.b,g)){var h=b.ea(g);d=[c,d,e];c=b.$.apply(b,d);if(h.c.hasOwnProperty(c))return h.get(c);var k=b.b;e=b.P(k);var l=b.P(g),n=Pd(b,d,g);b=new Ih(k,e,g,l,d,n,b.ka(f),b.xa(),function(b,c,d,e){return Mh(this,b,c,d,e,k)}.bind(b),b.W,!1);h.set(c,b);return b}return Mh(b,c,d,e,f,g)}
function Mh(b,c,d,e,f,g){var h=null,k=b.$(c,d,e),l=b.Pa();if(b.a.c.hasOwnProperty(k)){if(h=b.a.get(k),h.key!=l){var n=h;h.a&&h.a.key==l?(h=h.a,2==n.A()&&(h.a=n)):(h=Lh(b,c,d,e,f,g,l),2==n.A()?h.a=n:n.a&&2==n.a.A()&&(h.a=n.a,n.a=null));h.a&&(h.a.a=null);b.a.replace(k,h)}}else h=Lh(b,c,d,e,f,g,l),b.a.set(k,h);return h}function Kh(b,c){b.oa().src=c};function Nh(b){var c=void 0!==b.projection?b.projection:"EPSG:3857",d;if(void 0!==b.tileGrid)d=b.tileGrid;else{d={extent:Ld(c),maxZoom:b.maxZoom,minZoom:b.minZoom,tileSize:b.tileSize};var e={};H(e,void 0!==d?d:{});void 0===e.extent&&(e.extent=Rb("EPSG:3857").a());e.resolutions=Md(e.extent,e.maxZoom,e.tileSize);delete e.maxZoom;d=new xd(e)}Jh.call(this,{attributions:b.attributions,cacheSize:b.cacheSize,crossOrigin:b.crossOrigin,logo:b.logo,opaque:b.opaque,projection:c,reprojectionErrorThreshold:b.reprojectionErrorThreshold,
tileGrid:d,tileLoadFunction:b.tileLoadFunction,tilePixelRatio:b.tilePixelRatio,tileUrlFunction:b.tileUrlFunction,url:b.url,urls:b.urls,wrapX:void 0!==b.wrapX?b.wrapX:!0})}C(Nh,Jh);function Oh(b){b=b||{};dh.call(this,{attributions:b.attributions,logo:b.logo,projection:b.projection,resolutions:b.resolutions});this.L=void 0!==b.crossOrigin?b.crossOrigin:null;this.v=b.url;this.W=void 0!==b.imageLoadFunction?b.imageLoadFunction:kh;this.c=b.params||{};this.j=!0;Ph(this);this.H=b.serverType;this.T=void 0!==b.hidpi?b.hidpi:!0;this.f=null;this.u=[0,0];this.F=0;this.g=void 0!==b.ratio?b.ratio:1.5}C(Oh,dh);var Qh=[101,101];
Oh.prototype.X=function(b,c,d,e){if(void 0!==this.v){var f=Fb(b,c,0,Qh),g={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.c.LAYERS};H(g,this.c,e);e=Math.floor((f[3]-b[1])/c);g[this.j?"I":"X"]=Math.floor((b[0]-f[0])/c);g[this.j?"J":"Y"]=e;return Rh(this,f,Qh,1,Rb(d),g)}};
function fh(b,c,d,e,f){if(void 0===b.v)return null;b.o&&(d=Ja(b.o,d,0),d=b.o[d]);1==e||b.T&&void 0!==b.H||(e=1);c=c.slice();var g=(c[0]+c[2])/2,h=(c[1]+c[3])/2,k=d/e,l=T(c)/k,k=Cb(c)/k,n=b.f,q;if(q=n&&b.F==b.h&&n.w()==d&&n.f==e)q=n.a(),q=q[0]<=c[0]&&c[2]<=q[2]&&q[1]<=c[1]&&c[3]<=q[3];if(q)return n;1!=b.g&&(n=b.g*T(c)/2,q=b.g*Cb(c)/2,c[0]=g-n,c[1]=h-q,c[2]=g+n,c[3]=h+q);g={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};H(g,b.c);b.u[0]=Math.ceil(l*b.g);b.u[1]=Math.ceil(k*
b.g);f=Rh(b,c,b.u,e,f,g);b.f=new Fh(c,d,e,b.l(),f,b.L,b.W);b.F=b.h;M(b.f,"change",b.S,b);return b.f}
function Rh(b,c,d,e,f,g){g[b.j?"CRS":"SRS"]=f.b;"STYLES"in b.c||(g.STYLES=new String(""));if(1!=e)switch(b.H){case "geoserver":e=90*e+.5|0;g.FORMAT_OPTIONS="FORMAT_OPTIONS"in g?g.FORMAT_OPTIONS+(";dpi:"+e):"dpi:"+e;break;case "mapserver":g.MAP_RESOLUTION=90*e;break;case "carmentaserver":case "qgis":g.DPI=90*e}g.WIDTH=d[0];g.HEIGHT=d[1];d=f.f;var h;b.j&&"ne"==d.substr(0,2)?h=[c[1],c[0],c[3],c[2]]:h=c;g.BBOX=h.join(",");return Bh(Dh([b.v],g))}
Oh.prototype.ja=function(b){H(this.c,b);Ph(this);this.f=null;R(this)};function Ph(b){b.j=0<=Aa(b.c.VERSION||"1.3.0","1.3")};function Sh(b){b=b||{};var c;void 0!==b.attributions?c=b.attributions:c=[Th];Nh.call(this,{attributions:c,cacheSize:b.cacheSize,crossOrigin:void 0!==b.crossOrigin?b.crossOrigin:"anonymous",opaque:void 0!==b.opaque?b.opaque:!0,maxZoom:void 0!==b.maxZoom?b.maxZoom:19,reprojectionErrorThreshold:b.reprojectionErrorThreshold,tileLoadFunction:b.tileLoadFunction,url:void 0!==b.url?b.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:b.wrapX})}C(Sh,Nh);var Th=new wc({html:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'});function Uh(b){b=b||{};var c=b.params||{};Jh.call(this,{attributions:b.attributions,cacheSize:b.cacheSize,crossOrigin:b.crossOrigin,logo:b.logo,opaque:!("TRANSPARENT"in c?c.TRANSPARENT:1),projection:b.projection,reprojectionErrorThreshold:b.reprojectionErrorThreshold,tileGrid:b.tileGrid,tileLoadFunction:b.tileLoadFunction,url:b.url,urls:b.urls,wrapX:void 0!==b.wrapX?b.wrapX:!0});this.o=void 0!==b.gutter?b.gutter:0;this.c=c;this.L="";Wh(this);this.j=!0;this.u=b.serverType;this.H=void 0!==b.hidpi?b.hidpi:
!0;this.F="";Xh(this);this.J=vb();Yh(this)}C(Uh,Jh);p=Uh.prototype;
p.bc=function(b,c,d,e){d=Rb(d);var f=this.tileGrid;f||(f=this.P(d));c=Fd(f,b[0],b[1],c,!1,void 0);if(!(f.da().length<=c[0])){var g=f.w(c[0]),h=Bd(f,c,this.J),f=nb(Hd(f,c[0]),this.g),k=this.o;0!==k&&(f=lb(f,k,this.g),h=xb(h,g*k,h));k={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.c.LAYERS};H(k,this.c,e);e=Math.floor((h[3]-b[1])/g);k[this.j?"I":"X"]=Math.floor((b[0]-h[0])/g);k[this.j?"J":"Y"]=e;return Zh(this,c,f,h,1,d,k)}};p.xa=function(){return this.o};
p.Pa=function(){return this.L};p.$=function(b,c,d){return this.F+Uh.I.$.call(this,b,c,d)};
function Zh(b,c,d,e,f,g,h){var k=b.urls;if(k){h.WIDTH=d[0];h.HEIGHT=d[1];h[b.j?"CRS":"SRS"]=g.b;"STYLES"in b.c||(h.STYLES=new String(""));if(1!=f)switch(b.u){case "geoserver":d=90*f+.5|0;h.FORMAT_OPTIONS="FORMAT_OPTIONS"in h?h.FORMAT_OPTIONS+(";dpi:"+d):"dpi:"+d;break;case "mapserver":h.MAP_RESOLUTION=90*f;break;case "carmentaserver":case "qgis":h.DPI=90*f}g=g.f;b.j&&"ne"==g.substr(0,2)&&(b=e[0],e[0]=e[1],e[1]=b,b=e[2],e[2]=e[3],e[3]=b);h.BBOX=e.join(",");return Bh(Dh([1==k.length?k[0]:k[Fa((c[1]<<
c[0])+c[2],k.length)]],h))}}p.ka=function(b){return this.H&&void 0!==this.u?b:1};function Xh(b){var c=0,d=[];if(b.urls){var e,f;e=0;for(f=b.urls.length;e<f;++e)d[c++]=b.urls[e]}b.F=d.join("#")}function Wh(b){var c=0,d=[],e;for(e in b.c)d[c++]=e+"-"+b.c[e];b.L=d.join("/")}
p.Y=function(b,c,d){var e=this.tileGrid;e||(e=this.P(d));if(!(e.da().length<=b[0])){1==c||this.H&&void 0!==this.u||(c=1);var f=e.w(b[0]),g=Bd(e,b,this.J),e=nb(Hd(e,b[0]),this.g),h=this.o;0!==h&&(e=lb(e,h,this.g),g=xb(g,f*h,g));1!=c&&(e=mb(e,c,this.g));f={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};H(f,this.c);return Zh(this,b,e,g,c,d,f)}};p.cc=function(b){H(this.c,b);Xh(this);Wh(this);Yh(this);R(this)};function Yh(b){b.j=0<=Aa(b.c.VERSION||"1.3.0","1.3")};B("ol.Map",yh);B("ol.control.MousePosition",Xd);B("ol.coordinate.createStringXY",function(b){return function(c){return c?"{x}, {y}".replace("{x}",c[0].toFixed(b)).replace("{y}",c[1].toFixed(b)):""}});B("ol.layer.Image",Pg);Pg.prototype.set=Pg.prototype.set;Pg.prototype.getSource=Pg.prototype.U;B("ol.source.ImageWMS",Oh);B("ol.source.OSM",Sh);B("ol.Geolocation",Eh);Eh.prototype.on=Eh.prototype.pa;B("ol.Feature",lh);Oh.prototype.updateParams=Oh.prototype.ja;Oh.prototype.getGetFeatureInfoUrl=Oh.prototype.X;
B("ol.source.TileWMS",Uh);Uh.prototype.updateParams=Uh.prototype.cc;Uh.prototype.getGetFeatureInfoUrl=Uh.prototype.bc;B("ol.layer.Tile",Qg);Qg.prototype.set=Qg.prototype.set;Qg.prototype.getSource=Qg.prototype.U;B("ol.proj.Projection",Ob);B("ol.proj.fromLonLat",function(b,c){return ac("EPSG:4326",void 0!==c?c:"EPSG:3857")(b,void 0,b.length)});B("ol.control.defaults",Wd);W.prototype.extend=W.prototype.Vb;B("ol.View",ic);yh.prototype.getView=yh.prototype.B;ic.prototype.on=ic.prototype.pa;
yh.prototype.getSize=yh.prototype.na;ic.prototype.get=ic.prototype.get;ic.prototype.getProjection=ic.prototype.$b;Ob.prototype.getUnits=Ob.prototype.j;B("ol.proj.METERS_PER_UNIT",Nb);yh.prototype.on=yh.prototype.pa;Pg.prototype.get=Pg.prototype.get;yh.prototype.updateSize=yh.prototype.Ba;yh.prototype.getLayers=yh.prototype.Zb;W.prototype.forEach=W.prototype.fa;})();
